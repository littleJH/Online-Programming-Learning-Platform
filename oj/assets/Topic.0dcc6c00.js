import{bI as t,_ as e,bF as s,a as o}from"./index.5c064301.js";import{g as a}from"./topic.eb4e8577.js";import{P as i}from"./PaginationList.4a73bb02.js";import{T as r}from"./TopicCollapse.072b2f00.js";import{s as p}from"./style.module.c3d4c087.js";import"./Skeleton.ed2cb458.js";import"./index.0ec24622.js";import"./Pagination.855f4d50.js";import"./context.aa52cc0c.js";import"./index.a45f76a6.js";import"./List.6e377c69.js";import"./PurePanel.bec90387.js";import"./index.4e624168.js";import"./useLocale.07149357.js";import"./CheckOutlined.363c4795.js";import"./row.e491f7a6.js";import"./index.bad11826.js";import"./ActionButton.76c967e9.js";import"./ProblemTable.523975e8.js";import"./record.df22aa8c.js";import"./problem.1496b552.js";import"./progress.2cf02846.js";import"./MyTag.a4f82d92.js";import"./useClosable.e9e9bb76.js";import"./GeneralTable.8195648c.js";import"./Table.f08b7a7b.js";import"./index.ec27075f.js";import"./index.4d9ca8d6.js";import"./index.699f9875.js";import"./Dropdown.acaf0b68.js";import"./index.7d75d2c2.js";import"./BaseInput.01760c9b.js";import"./style.module.af136287.js";import"./Readonly.a9ebc692.js";import"./index.4cc837d4.js";import"./MyCollapse.32cc964b.js";import"./Collapse.6714be34.js";import"./MyAvatar.22457dcc.js";import"./index.972659d0.js";const m=()=>{const[m,c]=t(),[d,n]=e.exports.useState([]),[j,l]=e.exports.useState(Number(m.get("pageNum"))||1),[b,u]=e.exports.useState(Number(m.get("pageSize"))||10),[f,x]=e.exports.useState(0),[g,S]=e.exports.useState(!0);e.exports.useEffect((()=>{c((t=>(t.set("pageNum",String(j)),t.set("pageSize",String(b)),t))),y()}),[j,b]);const y=async()=>{S(!0),n([]);try{const t=(await a(j,b)).data.data,e=[];for(let o of t.topics)e.push({...o,user:(await s(o.user_id)).data.data.user});n(e),x(t.total),S(!1)}catch{}};return o("div",{className:p.listCtn,children:o(i,{dataSource:d,loading:g,pageNum:j,pageSize:b,total:f,onPageChange:(t,e)=>{l(t),u(e)},split:!1,itemRender:(t,e)=>o("div",{className:"w-full",children:o(r,{topic:t,index:e,total:f})})})})};export{m as default};
