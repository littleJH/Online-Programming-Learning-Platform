import{a as t,S as e,c as n,b as o,R as i,s as a,d as r,e as s,_ as l,t as u,m as d,P as c,j as h,f as p,C as f,T as g,g as v,G as m,h as y}from"./index.5c064301.js";import{N as x}from"./NavgationCard.b1a1106b.js";import{H as _}from"./GeneralRank.878d63d9.js";import{U as b}from"./UserInfo.2df9e32c.js";import{M}from"./MyAvatar.22457dcc.js";import{o as w}from"./LanguageList.5e03f3ce.js";import{S}from"./index.a45f76a6.js";import{M as A}from"./index.6891d53f.js";import{i as C,m as I,a as T,g as k,b as L,c as D,d as P,s as O,e as R,f as z,l as E,r as N,_ as B,C as V,S as G,h as Z,j as H,k as j,n as W,o as F,p as U,O as X,q as Y,t as Q,B as q,u as K,I as J,v as $,w as tt,x as et,y as nt,z as ot,A as it,D as at,E as rt,F as st,G as lt,H as ut,J as dt,K as ct,L as ht,M as pt,R as ft,N as gt,P as vt,Q as mt,T as yt,U as xt,V as _t,W as bt,X as Mt,Y as wt,Z as St,$ as At,a0 as Ct,a1 as It,a2 as Tt,a3 as kt,a4 as Lt,a5 as Dt,a6 as Pt,a7 as Ot,a8 as Rt,a9 as zt,aa as Et,ab as Nt,ac as Bt,ad as Vt,ae as Gt,af as Zt,ag as Ht,ah as jt,ai as Wt,aj as Ft,ak as Ut,al as Xt,am as Yt,an as Qt,ao as qt,ap as Kt,aq as Jt,ar as $t,as as te,at as ee,au as ne,av as oe,aw as ie,ax as ae,ay as re,az as se,aA as le,aB as ue,aC as de,aD as ce,aE as he,aF as pe,aG as fe,aH as ge,aI as ve,aJ as me,aK as ye,aL as xe,aM as _e,aN as be,aO as Me,aP as we,aQ as Se,aR as Ae,aS as Ce,aT as Ie,aU as Te,aV as ke,aW as Le,aX as De,aY as Pe,aZ as Oe,a_ as Re,a$ as ze,b0 as Ee,b1 as Ne,b2 as Be,b3 as Ve,b4 as Ge,b5 as Ze,b6 as He,b7 as je,b8 as We,b9 as Fe,ba as Ue,bb as Xe,bc as Ye,bd as Qe,be as qe,bf as Ke,bg as Je,bh as $e,bi as tn,bj as en,bk as nn,bl as on,bm as an,bn as rn,bo as sn,bp as ln,bq as un,br as dn}from"./installCanvasRenderer.8eafef91.js";import"./style.module.dc2582af.js";import"./StayTuned.1e948635.js";import"./index.9225dd62.js";import"./Skeleton.ed2cb458.js";import"./PlusOutlined.787b1bb7.js";import"./Dropdown.acaf0b68.js";import"./index.0ec24622.js";import"./Pagination.855f4d50.js";import"./context.aa52cc0c.js";import"./index.4e624168.js";import"./useLocale.07149357.js";import"./row.e491f7a6.js";import"./message.856d7a68.js";import"./WomanOutlined.2213c8b5.js";import"./index.77ceaa6f.js";import"./index.7d75d2c2.js";import"./BaseInput.01760c9b.js";import"./List.6e377c69.js";import"./PurePanel.bec90387.js";import"./CheckOutlined.363c4795.js";import"./ActionButton.76c967e9.js";import"./useClosable.e9e9bb76.js";import"./fade.9766c3a1.js";const cn={homeRoot:"_homeRoot_rttaq_2",left:"_left_rttaq_6",navCard:"_navCard_rttaq_59",item:"_item_rttaq_74",languages:"_languages_rttaq_80",ojPlatform:"_ojPlatform_rttaq_91",right:"_right_rttaq_119",rankBox:"_rankBox_rttaq_129"},hn=""+new URL("banner.dbfa4fea.jpg",import.meta.url).href,pn=""+new URL("codeforces-sponsored-by-ton.8f8eb6a9.png",import.meta.url).href,fn=""+new URL("header-logo-summer.697fb094.png",import.meta.url).href,gn=""+new URL("logo.51a21539.png",import.meta.url).href,vn=[{name:"HDU Online Judge",link:"http://acm.hdu.edu.cn/",img:hn},{name:"PKU JudgeOnline",link:"http://poj.org/",img:""+new URL("logo0.ec05eef7.gif",import.meta.url).href},{name:"Codeforces",link:"https://codeforces.com/",img:pn},{name:"HackerRank",link:"https://www.hackerrank.com/",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU4AAAAkCAMAAADRlSPTAAAAM1BMVEUAAAA5Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk45Qk4yx2bX+QfdAAAAD3RSTlMA3Zlm7iK7RKoRzHeIVTNf2VyYAAAEFklEQVRo3u2aW5LbIBBFAfEGoex/tYk9M2rD5SFVOx9Jub+m3AgdnUHQYAt5fIcSX3H8xCa4oX66kuK9IY8qtLbZUPavY/8axn+h8xk6fXRydKLQ8tHJ0Imxf3QydGKUj8536owfnQydGO6jk6HTmz+xWdLpPzpvB0Abfd7pn9BpNiv1V8G8B/q4bqGfLWw2Qy53nJ9QL7t/Xid9vS5vNUZRDwAdc+joFPvZ8QVo9ToxhBz1g9pRforN11mez0thDchM1WwmN+BqBpH+6SL41wtzrZO4iqTOezrF2XNZQyt6QGOp37PBFJurc5MHRKpl7rptIEuPS4LNPK7Et5fZ8NW5Ap1V124Nrc6LE2UJaorN1BkaLmpMYbsVIHJFWH/jsBInnba5wbbQuYImrOgpR5RzbO7orG9JyUXVYpHLEtbsStfolA1Cd+4MlJ5DE9Y6j9hXdC46192kntuUyKWqjgkULm106g3SqDMT1xpajTcBK2y+ztTPJjFjc8C1wZXQcZ3f+llf64SldwlNWBhiis3X+cOubXbG7JlaR3oQ+kylZHX3raF2uBgfj9LKZGo805lQZ/GUznNo1Kk1jIIZNl/nrlXBmkzDC6vCt2HpYU6nWsOetVWzXhJ66em0uzHG5Wjmm8wyh2512lAtXNsKm6+TwriU2om52xwfQwIW3XhvK4SEOm24tmf3YgFd69ybNyyPsd+q0+SoexXNNnyQmruzbTuGoUBnwk3maK1ZQ+Ou52yl1th8nSHrUVpNTxrVpF51Y5221anENZ3aCbGGRp1ypVO9UWeapC2Ni6lOrN226zqjWOukbSJC83Ue7rZOb76i1emPKzrlRZ3ygk7fNHBTnWAdofk65RtOlLBv/ujEM6D13Hn1+NjBjVk6kYmvs1CPMRkjBG/upIcuY53puk5vTIHhidAsnYTN1+lPrgDpeys7LKcEirHWSdAejk8Qmq9TvkWnrF5mSJtuXVUC6lTx/KvZAFimzqBBD0EzdCI2X2czNwbb6Iu4v3PysKBTCVe9N4OBHbb7OoVqpgmEvqxziv1GnYd1xuzxoNhwgY455ah7y5h9fQVlu2fX6jmeS5YEfUNn0LU/hL6sc4rN17kuS2M3qUOHW2MlhBFv6MTnV5Rmr+yIzddpVzqNHtSOyJWqNWPU935fpyAGQx2zdSI2W+c+JpvvFvfply7Tk+f7OnP9b9wZOqfYXJ34n5a6Xcmd7m+fkYvM+8lMke7rFITghtD3dSI2TycOoSxinaaVEw7UgAtLxNTdf9zXScMzjqHv60Rshk7c//rw+i01RamE6kcz5MI1GA9+dA43lyIYnnsXmqETsHk6hVGPRjpuof11BkXYvdTPVspNfp2SDizei4rPK6Xdwv0yHoan7EIzdAL2ROdvjtp0nsAz6moAAAAASUVORK5CYII="},{name:"Vijos",link:"https://www.vijos.com/",img:fn},{name:"AtCoder",link:"https://atcoder.jp/",img:gn},{name:"UOJ",link:"https://uoj.ac/",img:""+new URL("UOJ_small.7c5dcd2e.png",import.meta.url).href},{name:"Timus Online Judge",link:"https://acm.timus.ru/",img:""+new URL("usu-summer.e59d557b.jpg",import.meta.url).href}],mn=()=>t(e,{wrap:!0,children:vn.map(((e,n)=>t("a",{target:"_blank",href:e.link,children:t("img",{height:50,src:e.img,alt:e.name})},n)))}),yn=n({baseURL:"heart"});var xn="undefined"!=typeof Float32Array,_n=xn?Float32Array:Array;function bn(t){return C(t)?xn?new Float32Array(t):t:new _n(t)}var Mn=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}(),wn=I();function Sn(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=Cn(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=D(t);return{labels:T(e,(function(e,o){return{level:e.level,formattedLabel:n(e,o),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function An(t,e){return"category"===t.type?function(t,e){var n,o,i=In(t,"ticks"),a=k(e),r=Tn(i,a);if(r)return r;e.get("show")&&!t.scale.isBlank()||(n=[]);if(L(a))n=Dn(t,a,!0);else if("auto"===a){var s=Cn(t,t.getLabelModel());o=s.labelCategoryInterval,n=T(s.labels,(function(t){return t.tickValue}))}else n=Ln(t,o=a,!0);return kn(i,a,{ticks:n,tickCategoryInterval:o})}(t,e):{ticks:T(t.scale.getTicks(),(function(t){return t.value}))}}function Cn(t,e){var n,o,i=In(t,"labels"),a=k(e),r=Tn(i,a);return r||(L(a)?n=Dn(t,a):(o="auto"===a?function(t){var e=wn(t).autoInterval;return null!=e?e:wn(t).autoInterval=t.calculateCategoryInterval()}(t):a,n=Ln(t,o)),kn(i,a,{labels:n,labelCategoryInterval:o}))}function In(t,e){return wn(t)[e]||(wn(t)[e]=[])}function Tn(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function kn(t,e,n){return t.push({key:e,value:n}),n}function Ln(t,e,n){var o=D(t),i=t.scale,a=i.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],d=i.count();0!==u&&l>1&&d/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=O(t),h=r.get("showMinLabel")||c,p=r.get("showMaxLabel")||c;h&&u!==a[0]&&g(a[0]);for(var f=u;f<=a[1];f+=l)g(f);function g(t){var e={value:t};s.push(n?t:{formattedLabel:o(e),rawLabel:i.getLabel(e),tickValue:t})}return p&&f-l!==a[1]&&g(a[1]),s}function Dn(t,e,n){var o=t.scale,i=D(t),a=[];return R(o.getTicks(),(function(t){var r=o.getLabel(t),s=t.value;e(t.value,r)&&a.push(n?s:{formattedLabel:i(t),rawLabel:r,tickValue:s})})),a}var Pn=[0,1];function On(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}const Rn=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),o=Math.max(e[0],e[1]);return t>=n&&t<=o},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return z(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&"ordinal"===o.type&&On(n=n.slice(),o.count()),E(t,Pn,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&On(n=n.slice(),o.count());var i=E(t,n,Pn,e);return this.scale.scale(i)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=An(this,e).ticks,o=T(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,o){var i=e.length;if(!t.onBand||n||!i)return;var a,r,s=t.getExtent();if(1===i)e[0].coord=s[0],a=e[1]={coord:s[1]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;R(e,(function(t){t.coord-=u/2})),r=1+t.scale.getExtent()[1]-e[i-1].tickValue,a={coord:e[i-1].coord+u*r},e.push(a)}var d=s[0]>s[1];c(e[0].coord,s[0])&&(o?e[0].coord=s[0]:e.shift());o&&c(s[0],e[0].coord)&&e.unshift({coord:s[0]});c(s[1],a.coord)&&(o?a.coord=s[1]:e.pop());o&&c(a.coord,s[1])&&e.push({coord:s[1]});function c(t,e){return t=N(t),e=N(e),d?t>e:t<e}}(this,o,e.get("alignWithLabel"),t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return T(e,(function(t){return T(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return Sn(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var o=Math.abs(t[1]-t[0]);return Math.abs(o)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=D(t),o=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),r=i.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),d=Math.abs(u*Math.cos(o)),c=Math.abs(u*Math.sin(o)),h=0,p=0;l<=a[1];l+=s){var f,g,v=P(n({value:l}),e.font,"center","top");f=1.3*v.width,g=1.3*v.height,h=Math.max(h,f,7),p=Math.max(p,g,7)}var m=h/d,y=p/c;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(m,y))),_=wn(t.model),b=t.getExtent(),M=_.lastAutoInterval,w=_.lastTickCount;return null!=M&&null!=w&&Math.abs(M-x)<=1&&Math.abs(w-r)<=1&&M>x&&_.axisExtent0===b[0]&&_.axisExtent1===b[1]?x=M:(_.lastTickCount=r,_.lastAutoInterval=x,_.axisExtent0=b[0],_.axisExtent1=b[1]),x}(this)},t}();const zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(V);var En=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",G).models[0]},e.type="cartesian2dAxis",e}(V);Z(En,Mn);var Nn={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Bn=H({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Nn),Vn=H({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Nn);const Gn={category:Bn,value:Vn,time:H({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Vn),log:j({logBase:10},Vn)};var Zn={value:1,category:1,time:1,log:1};function Hn(t,e,n,o){R(Zn,(function(i,a){var r=H(H({},Gn[a],!0),o,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+a,n}return B(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=W(this),o=n?F(t):{},i=e.getTheme();H(t,i.get(a+"Axis")),H(t,this.getDefaultOption()),t.type=jn(t),n&&U(t,o,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=X.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+a,n.defaultOption=r,n}(n);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",jn)}function jn(t){return t.type||(t.data?"category":"value")}var Wn=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return T(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Y(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}();var Fn=["x","y"];function Un(t){return"interval"===t.type||"time"===t.type}var Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Fn,e}return B(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(Un(t)&&Un(e)){var n=t.getExtent(),o=e.getExtent(),i=this.dataToPoint([n[0],o[0]]),a=this.dataToPoint([n[1],o[1]]),r=n[1]-n[0],s=o[1]-o[0];if(r&&s){var l=(a[0]-i[0])/r,u=(a[1]-i[1])/s,d=i[0]-n[0]*l,c=i[1]-o[0]*u,h=this._transform=[l,0,0,u,d,c];this._invTransform=Q([],h)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),o=this.dataToPoint(e),i=this.getArea(),a=new q(n[0],n[1],o[0]-n[0],o[1]-n[1]);return i.intersect(a)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var o=t[0],i=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=i&&isFinite(i))return K(n,t,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return n[0]=a.toGlobalCoord(a.dataToCoord(o,e)),n[1]=r.toGlobalCoord(r.dataToCoord(i,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,o=this.getAxis("y").scale,i=n.getExtent(),a=o.getExtent(),r=n.parse(t[0]),s=o.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),r),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return K(n,t,this._invTransform);var o=this.getAxis("x"),i=this.getAxis("y");return n[0]=o.coordToData(o.toLocalCoord(t[0]),e),n[1]=i.coordToData(i.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),o=Math.min(e[0],e[1])-t,i=Math.min(n[0],n[1])-t,a=Math.max(e[0],e[1])-o+t,r=Math.max(n[0],n[1])-i+t;return new q(o,i,a,r)},e}(Wn);const Yn=function(t){function e(e,n,o,i,a){var r=t.call(this,e,n,o)||this;return r.index=0,r.type=i||"value",r.position=a||"bottom",r}return B(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Rn);var Qn=Math.log;function qn(t,e){return t.getCoordSysModel()===e}function Kn(t,e,n,o){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,a=t[e],r=n.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Jn(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Jn(a[u])&&!o[d(a[u])]){i=a[u];break}i&&(o[d(i)]=!0)}function d(t){return t.dim+"_"+t.index}}function Jn(t){return t&&"category"!==t.type&&"time"!==t.type&&ut(t)}const $n=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Fn,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function o(t){var e,n=dt(t),o=n.length;if(o){for(var i=[],a=o-1;a>=0;a--){var r=t[+n[a]],s=r.model,l=r.scale;ct(l)&&s.get("alignTicks")&&null==s.get("interval")?i.push(r):(ht(l,s),ct(l)&&(e=r))}i.length&&(e||(e=i.pop(),ht(e.scale,e.model)),R(i,(function(t){!function(t,e,n){var o=J.prototype,i=o.getTicks.call(n),a=o.getTicks.call(n,!0),r=i.length-1,s=o.getInterval.call(n),l=$(t,e),u=l.extent,d=l.fixMin,c=l.fixMax;if("log"===t.type){var h=Qn(t.base);u=[Qn(u[0])/h,Qn(u[1])/h]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:r,fixMin:d,fixMax:c});var p=o.getExtent.call(t);d&&(u[0]=p[0]),c&&(u[1]=p[1]);var f=o.getInterval.call(t),g=u[0],v=u[1];if(d&&c)f=(v-g)/r;else if(d)for(v=u[0]+f*r;v<u[1]&&isFinite(v)&&isFinite(u[1]);)f=tt(f),v=u[0]+f*r;else if(c)for(g=u[1]-f*r;g>u[0]&&isFinite(g)&&isFinite(u[0]);)f=tt(f),g=u[1]-f*r;else{t.getTicks().length-1>r&&(f=tt(f));var m=f*r;v=Math.ceil(u[1]/f)*f,(g=N(v-m))<0&&u[0]>=0?(g=0,v=N(m)):v>0&&u[1]<=0&&(v=0,g=-N(m))}var y=(i[0].value-a[0].value)/s,x=(i[r].value-a[r].value)/s;o.setExtent.call(t,g+f*y,v+f*x),o.setInterval.call(t,f),(y||x)&&o.setNiceExtent.call(t,g+f,v-f)}(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),o(n.x),o(n.y);var i={};R(n.x,(function(t){Kn(n,"y",t,i)})),R(n.y,(function(t){Kn(n,"x",t,i)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var o=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),a=et(o,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;function s(){R(r,(function(t){var e=t.isHorizontal(),n=e?[0,a.width]:[0,a.height],o=t.inverse?1:0;t.setExtent(n[o],n[1-o]),function(t,e){var n=t.getExtent(),o=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return o-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return o-t+e}}(t,e?a.x:a.y)}))}s(),i&&(R(r,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=nt(t);if(e){var n=t.isHorizontal()?"height":"width",o=t.model.get(["axisLabel","margin"]);a[n]-=e[n]+o,"top"===t.position?a.y+=e.height+o:"left"===t.position&&(a.x+=e.width+o)}}})),s()),R(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}ot(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,i=this._coordsList;o<i.length;o++)if(i[o].getAxis("x").index===t||i[o].getAxis("y").index===e)return i[o]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.dataToPoint(n):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.pointToData(n):o.axis?o.axis.coordToData(o.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,o=t.seriesModel,i=t.xAxisModel||o&&o.getReferringComponents("xAxis",G).models[0],a=t.yAxisModel||o&&o.getReferringComponents("yAxis",G).models[0],r=t.gridModel,s=this._coordsList;if(o)e=o.coordinateSystem,it(s,e)<0&&(e=null);else if(i&&a)e=this.getCartesian(i.componentIndex,a.componentIndex);else if(i)n=this.getAxis("x",i.componentIndex);else if(a)n=this.getAxis("y",a.componentIndex);else if(r){r.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var o=this,i=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,o){if(qn(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var u=new Yn(e,at(n),[0,0],n.get("type"),l),d="category"===u.type;u.onBand=d&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=i,u.index=o,i._axesList.push(u),r[e][o]=u,s[e]++}}}this._axesMap=r,R(r.x,(function(e,n){R(r.y,(function(i,a){var r="x"+n+"y"+a,s=new Xn(r);s.master=o,s.model=t,o._coordsMap[r]=s,o._coordsList.push(s),s.addAxis(e),s.addAxis(i)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){R(lt(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}R(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(rt(t)){var o=st(t),i=o.xAxisModel,a=o.yAxisModel;if(!qn(i,e)||!qn(a,e))return;var r=this.getCartesian(i.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),u=r.getAxis("y");n(s,l),n(s,u)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return R(this.getCartesians(),(function(o){var i=null!=t&&"auto"!==t?o.getAxis(t):o.getBaseAxis(),a=o.getOtherAxis(i);it(e,i)<0&&e.push(i),it(n,a)<0&&n.push(a)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var o=[];return e.eachComponent("grid",(function(i,a){var r=new t(i,e,n);r.name="grid_"+a,r.resize(i,n,!0),i.coordinateSystem=r,o.push(r)})),e.eachSeries((function(t){if(rt(t)){var e=st(t),n=e.xAxisModel,o=e.yAxisModel,i=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=i.getCartesian(n.componentIndex,o.componentIndex)}})),o},t.dimensions=Fn,t}();var to=I();var eo=["axisLine","axisTickLabel","axisName"],no=["splitArea","splitLine","minorSplitLine"],oo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return B(e,t),e.prototype.render=function(e,n,o,i){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new gt,this.group.add(this._axisGroup),e.get("show")){var r=e.getCoordSysModel(),s=vt(r,e),l=new mt(e,yt({handleAutoShown:function(t){for(var n=r.coordinateSystem.getCartesians(),o=0;o<n.length;o++)if(ct(n[o].getOtherAxis(e.axis).scale))return!0;return!1}},s));R(eo,l.add,l),this._axisGroup.add(l.getGroup()),R(no,(function(t){e.get([t,"show"])&&io[t](this,this._axisGroup,e,r)}),this),i&&"changeAxisOrder"===i.type&&i.isInitSort||xt(a,this._axisGroup,e),t.prototype.render.call(this,e,n,o,i)}},e.prototype.remove=function(){to(this).splitAreaColors=null},e.type="cartesianAxis",e}(_t),io={splitLine:function(t,e,n,o){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=C(s)?s:[s];for(var l=o.coordinateSystem.getRect(),u=i.isHorizontal(),d=0,c=i.getTicksCoords({tickModel:a}),h=[],p=[],f=r.getLineStyle(),g=0;g<c.length;g++){var v=i.toGlobalCoord(c[g].coord);u?(h[0]=v,h[1]=l.y,p[0]=v,p[1]=l.y+l.height):(h[0]=l.x,h[1]=v,p[0]=l.x+l.width,p[1]=v);var m=d++%s.length,y=c[g].tickValue,x=new bt({anid:null!=y?"line_"+c[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:j({stroke:s[m]},f),silent:!0});Mt(x.shape,f.lineWidth),e.add(x)}}},minorSplitLine:function(t,e,n,o){var i=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),r=o.coordinateSystem.getRect(),s=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var u=[],d=[],c=a.getLineStyle(),h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++){var f=i.toGlobalCoord(l[h][p].coord);s?(u[0]=f,u[1]=r.y,d[0]=f,d[1]=r.y+r.height):(u[0]=r.x,u[1]=f,d[0]=r.x+r.width,d[1]=f);var g=new bt({anid:"minor_line_"+l[h][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:c,silent:!0});Mt(g.shape,c.lineWidth),e.add(g)}},splitArea:function(t,e,n,o){!function(t,e,n,o){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),l=o.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var d=s.length,c=to(t).splitAreaColors,h=pt(),p=0;if(c)for(var f=0;f<u.length;f++){var g=c.get(u[f].tickValue);if(null!=g){p=(g+(d-1)*f)%d;break}}var v=i.toGlobalCoord(u[0].coord),m=r.getAreaStyle();for(s=C(s)?s:[s],f=1;f<u.length;f++){var y=i.toGlobalCoord(u[f].coord),x=void 0,_=void 0,b=void 0,M=void 0;i.isHorizontal()?(x=v,_=l.y,b=y-x,M=l.height,v=x+b):(x=l.x,_=v,b=l.width,v=_+(M=y-_));var w=u[f-1].tickValue;null!=w&&h.set(w,p),e.add(new ft({anid:null!=w?"area_"+w:null,shape:{x:x,y:_,width:b,height:M},style:j({fill:s[p]},m),autoBatch:!0,silent:!0})),p=(p+1)%d}to(t).splitAreaColors=h}}}(t,e,n,o)}},ao=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.type="xAxis",e}(oo),ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=ao.type,e}return B(e,t),e.type="yAxis",e}(oo),so=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return B(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new ft({shape:t.coordinateSystem.getRect(),style:j({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(wt),lo={offset:0};function uo(t){t.registerComponentView(so),t.registerComponentModel(zn),t.registerCoordinateSystem("cartesian2d",$n),Hn(t,"x",En,lo),Hn(t,"y",En,lo),t.registerComponentView(ao),t.registerComponentView(ro),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function co(t,e,n,o,i,a){t=t||0;var r=n[1]-n[0];if(null!=i&&(i=po(i,[0,r])),null!=a&&(a=Math.max(a,null!=i?i:0)),"all"===o){var s=Math.abs(e[1]-e[0]);s=po(s,[0,r]),i=a=po(s,[i,a]),o=0}e[0]=po(e[0],n),e[1]=po(e[1],n);var l=ho(e,o);e[o]+=t;var u,d=i||0,c=n.slice();return l.sign<0?c[0]+=d:c[1]-=d,e[o]=po(e[o],c),u=ho(e,o),null!=i&&(u.sign!==l.sign||u.span<i)&&(e[1-o]=e[o]+l.sign*i),u=ho(e,o),null!=a&&u.span>a&&(e[1-o]=e[o]+u.sign*a),e}function ho(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function po(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var fo=!0,go=Math.min,vo=Math.max,mo=Math.pow,yo=1e4,xo=6,_o=6,bo="globalPan",Mo={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},wo={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},So={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Ao=0,Co=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new gt,n._uid="brushController_"+Ao++,R($o,(function(t,e){this._handlers[e]=Ct(t,this)}),n),n}return B(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||It(e,bo,this._uid),R(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=H(Tt(So),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;kt(t,bo,this._uid),R(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};R(t,(function(t){e[t.panelId]=Tt(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=T(t,(function(t){return H(Tt(So),t,!0)}));var e="\0-brush-index-",n=this._covers,o=this._covers=[],i=this,a=this._creatingCover;return new Lt(n,t,(function(t,e){return r(t.__brushOption,e)}),r).add(s).update(s).remove((function(t){n[t]!==a&&i.group.remove(n[t])})).execute(),this;function r(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(e,r){var s=t[e];if(null!=r&&n[r]===a)o[e]=n[r];else{var l=o[e]=null!=r?(n[r].__brushOption=s,n[r]):To(i,Io(i,s));Do(i,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),zo(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Dt);function Io(t,e){var n=ei[e.brushType].createCover(t,e);return n.__brushOption=e,Lo(n,e),t.group.add(n),n}function To(t,e){var n=Po(e);return n.endCreating&&(n.endCreating(t,e),Lo(e,e.__brushOption)),e}function ko(t,e){var n=e.__brushOption;Po(e).updateCoverShape(t,e,n.range,n)}function Lo(t,e){var n=e.z;null==n&&(n=yo),t.traverse((function(t){t.z=n,t.z2=n}))}function Do(t,e){Po(e).updateCommon(t,e),ko(t,e)}function Po(t){return ei[t.__brushOption.brushType]}function Oo(t,e,n){var o,i=t._panels;if(!i)return fo;var a=t._transform;return R(i,(function(t){t.isTargetByCursor(e,n,a)&&(o=t)})),o}function Ro(t,e){var n=t._panels;if(!n)return fo;var o=e.__brushOption.panelId;return null!=o?n[o]:fo}function zo(t){var e=t._covers,n=e.length;return R(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function Eo(t,e){var n=T(t._covers,(function(t){var e=t.__brushOption,n=Tt(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function No(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Bo(t,e,n,o){var i=new gt;return i.add(new ft({name:"main",style:Ho(n),silent:!0,draggable:!0,cursor:"move",drift:Rt(Fo,t,e,i,["n","s","w","e"]),ondragend:Rt(Eo,e,{isEnd:!0})})),R(o,(function(n){i.add(new ft({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Rt(Fo,t,e,i,n),ondragend:Rt(Eo,e,{isEnd:!0})}))})),i}function Vo(t,e,n,o){var i=o.brushStyle.lineWidth||0,a=vo(i,_o),r=n[0][0],s=n[1][0],l=r-i/2,u=s-i/2,d=n[0][1],c=n[1][1],h=d-a+i/2,p=c-a+i/2,f=d-r,g=c-s,v=f+i,m=g+i;Zo(t,e,"main",r,s,f,g),o.transformable&&(Zo(t,e,"w",l,u,a,m),Zo(t,e,"e",h,u,a,m),Zo(t,e,"n",l,u,v,a),Zo(t,e,"s",l,p,v,a),Zo(t,e,"nw",l,u,a,a),Zo(t,e,"ne",h,u,a,a),Zo(t,e,"sw",l,p,a,a),Zo(t,e,"se",h,p,a,a))}function Go(t,e){var n=e.__brushOption,o=n.transformable,i=e.childAt(0);i.useStyle(Ho(n)),i.attr({silent:!o,cursor:o?"move":"default"}),R([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var i=e.childOfName(n.join("")),a=1===n.length?Wo(t,n[0]):function(t,e){var n=[Wo(t,e[0]),Wo(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);i&&i.attr({silent:!o,invisible:!o,cursor:o?wo[a]+"-resize":null})}))}function Zo(t,e,n,o,i,a,r){var s,l,u,d,c,h=e.childOfName(n);h&&h.setShape((s=Yo(t,e,[[o,i],[o+a,i+r]]),l=go(s[0][0],s[1][0]),u=go(s[0][1],s[1][1]),d=vo(s[0][0],s[1][0]),c=vo(s[0][1],s[1][1]),{x:l,y:u,width:d-l,height:c-u}))}function Ho(t){return j({strokeNoScale:!0},t.brushStyle)}function jo(t,e,n,o){var i=[go(t,n),go(e,o)],a=[vo(t,n),vo(e,o)];return[[i[0],a[0]],[i[1],a[1]]]}function Wo(t,e){var n=zt({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return Et(t.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function Fo(t,e,n,o,i,a){var r=n.__brushOption,s=t.toRectRange(r.range),l=Xo(e,i,a);R(o,(function(t){var e=Mo[t];s[e[0]][e[1]]+=l[e[0]]})),r.range=t.fromRectRange(jo(s[0][0],s[1][0],s[0][1],s[1][1])),Do(e,n),Eo(e,{isEnd:!1})}function Uo(t,e,n,o){var i=e.__brushOption.range,a=Xo(t,n,o);R(i,(function(t){t[0]+=a[0],t[1]+=a[1]})),Do(t,e),Eo(t,{isEnd:!1})}function Xo(t,e,n){var o=t.group,i=o.transformCoordToLocal(e,n),a=o.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function Yo(t,e,n){var o=Ro(t,e);return o&&o!==fo?o.clipPath(n,t._transform):Tt(n)}function Qo(t){var e=t.event;e.preventDefault&&e.preventDefault()}function qo(t,e,n){return t.childOfName("main").contain(e,n)}function Ko(t,e,n,o){var i,a=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],o=e[0],i=n[0]-o[0],a=n[1]-o[1];return mo(i*i+a*a,.5)>xo}(t)||a){if(r&&!a){"single"===s.brushMode&&zo(t);var l=Tt(s);l.brushType=Jo(l.brushType,r),l.panelId=r===fo?null:r.panelId,a=t._creatingCover=Io(t,l),t._covers.push(a)}if(a){var u=ei[Jo(t._brushType,r)];a.__brushOption.range=u.getCreatingRange(Yo(t,a,t._track)),o&&(To(t,a),u.updateCommon(t,a)),ko(t,a),i={isEnd:o}}}else o&&"single"===s.brushMode&&s.removeOnClick&&Oo(t,e,n)&&zo(t)&&(i={isEnd:o,removeOnClick:!0});return i}function Jo(t,e){return"auto"===t?e.defaultBrushType:t}var $o={mousedown:function(t){if(this._dragging)ti(this,t);else if(!t.target||!t.target.draggable){Qo(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Oo(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,o=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var o=t._zr;return e<0||e>o.getWidth()||n<0||n>o.getHeight()}(t,e.offsetX,e.offsetY)){var o=t._zr,i=t._covers,a=Oo(t,e,n);if(!t._dragging)for(var r=0;r<i.length;r++){var s=i[r].__brushOption;if(a&&(a===fo||s.panelId===a.panelId)&&ei[s.brushType].contain(i[r],n[0],n[1]))return}a&&o.setCursorStyle("crosshair")}}(this,t,o),this._dragging){Qo(t);var i=Ko(this,t,o,!1);i&&Eo(this,i)}},mouseup:function(t){ti(this,t)}};function ti(t,e){if(t._dragging){Qo(e);var n=e.offsetX,o=e.offsetY,i=t.group.transformCoordToLocal(n,o),a=Ko(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&Eo(t,a)}}var ei={lineX:ni(0),lineY:ni(1),rect:{createCover:function(t,e){function n(t){return t}return Bo({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=No(t);return jo(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,o){Vo(t,e,n,o)},updateCommon:Go,contain:qo},polygon:{createCover:function(t,e){var n=new gt;return n.add(new Pt({name:"main",style:Ho(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Ot({name:"main",draggable:!0,drift:Rt(Uo,t,e),ondragend:Rt(Eo,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,o){e.childAt(0).setShape({points:Yo(t,e,n)})},updateCommon:Go,contain:qo}};function ni(t){return{createCover:function(e,n){return Bo({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=No(e);return[go(n[0][t],n[1][t]),vo(n[0][t],n[1][t])]},updateCoverShape:function(e,n,o,i){var a,r=Ro(e,n);if(r!==fo&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[o,a];t&&l.reverse(),Vo(e,n,l,i)},updateCommon:Go,contain:qo}}const oi=Co;function ii(t){return t=si(t),function(e){return Nt(e,t)}}function ai(t,e){return t=si(t),function(n){var o=null!=e?e:n,i=o?t.width:t.height,a=o?t.x:t.y;return[a,a+(i||0)]}}function ri(t,e,n){var o=si(t);return function(t,i){return o.contain(i[0],i[1])&&!Bt(t,e,n)}}function si(t){return q.create(t)}var li=["x","y","radius","angle","single"],ui=["cartesian2d","polar","singleAxis"];function di(t){return t+"Axis"}function ci(t,e){var n,o=pt(),i=[],a=pt();t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",r)}while(n);function r(t){!a.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,n){var i=o.get(t);i&&i[n]&&(e=!0)})),e}(t)&&(s(t),n=!0)}function s(t){a.set(t.uid,!0),i.push(t),t.eachTargetAxis((function(t,e){(o.get(t)||o.set(t,[]))[e]=!0}))}return i}function hi(t){var e=t.ecModel,n={infoList:[],infoMap:pt()};return t.eachTargetAxis((function(t,o){var i=e.getComponent(di(t),o);if(i){var a=i.getCoordSysModel();if(a){var r=a.uid,s=n.infoMap.get(r);s||(s={model:a,axisModels:[]},n.infoList.push(s),n.infoMap.set(r,s)),s.axisModels.push(i)}}})),n}var pi=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}();function fi(t){var e={};return R(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}const gi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return B(e,t),e.prototype.init=function(t,e,n){var o=fi(t);this.settledOption=o,this.mergeDefaultAndTheme(t,n),this._doInit(o)},e.prototype.mergeOption=function(t){var e=fi(t);H(this.option,t,!0),H(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;R([["start","startValue"],["end","endValue"]],(function(t,o){"value"===this._rangePropMode[o]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=pt();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return R(li,(function(n){var o=this.getReferringComponents(di(n),Vt);if(o.specified){e=!0;var i=new pi;R(o.models,(function(t){i.add(t.componentIndex)})),t.set(n,i)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,o=!0;if(o){var i="vertical"===e?"y":"x";a(n.findComponents({mainType:i+"Axis"}),i)}o&&a(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function a(e,n){var i=e[0];if(i){var a=new pi;if(a.add(i.componentIndex),t.set(n,a),o=!1,"x"===n||"y"===n){var r=i.getReferringComponents("grid",G).models[0];r&&R(e,(function(t){i.componentIndex!==t.componentIndex&&r===t.getReferringComponents("grid",G).models[0]&&a.add(t.componentIndex)}))}}}o&&R(li,(function(e){if(o){var i=n.findComponents({mainType:di(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var a=new pi;a.add(i[0].componentIndex),t.set(e,a),o=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");R([["start","startValue"],["end","endValue"]],(function(o,i){var a=null!=t[o[0]],r=null!=t[o[1]];a&&!r?e[i]="percent":!a&&r?e[i]="value":n?e[i]=n[i]:a&&(e[i]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(di(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,o){R(n.indexList,(function(n){t.call(e,o,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(di(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;R([["start","startValue"],["end","endValue"]],(function(o){null==t[o[0]]&&null==t[o[1]]||(e[o[0]]=n[o[0]]=t[o[0]],e[o[1]]=n[o[1]]=t[o[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;R(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),o=0;o<n.length;o++)for(var i=n[o],a=this._targetAxisInfoMap.get(i),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(i,a.indexList[r]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(V);const vi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.type="dataZoom.select",e}(gi);const mi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.prototype.render=function(t,e,n,o){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(wt);const yi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.type="dataZoom.select",e}(mi);var xi=R,_i=Ht;const bi=function(){function t(t,e,n,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get("coordinateSystem");return it(ui,e)>=0}(e)){var n=di(this._dimName),o=e.getReferringComponents(n,G).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return Tt(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,o=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],r=[],s=[];xi(["start","end"],(function(l,u){var d=t[l],c=t[l+"Value"];"percent"===i[u]?(null==d&&(d=a[u]),c=o.parse(E(d,a,n))):(e=!0,c=null==c?n[u]:o.parse(c),d=E(c,n,a)),s[u]=null==c||isNaN(c)?n[u]:c,r[u]=null==d||isNaN(d)?a[u]:d})),_i(s),_i(r);var l=this._minMaxSpan;function u(t,e,n,i,a){var r=a?"Span":"ValueSpan";co(0,t,n,"all",l["min"+r],l["max"+r]);for(var s=0;s<2;s++)e[s]=E(t[s],n,i,!0),a&&(e[s]=o.parse(e[s]))}return e?u(s,r,n,a,!1):u(r,s,a,n,!0),{valueWindow:s,percentWindow:r}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var o=[1/0,-1/0];xi(n,(function(t){Gt(o,t.getData(),e)}));var i=t.getAxisModel(),a=Zt(i.axis.scale,i,o).calculate();return[a.min,a.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),i=t.get("filterMode"),a=this._valueWindow;"none"!==i&&xi(o,(function(t){var e=t.getData(),o=e.mapDimensionsAll(n);if(o.length){if("weakFilter"===i){var r=e.getStore(),s=T(o,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,i,l=0;l<o.length;l++){var u=r.get(s[l],t),d=!isNaN(u),c=u<a[0],h=u>a[1];if(d&&!c&&!h)return!0;d&&(i=!0),c&&(e=!0),h&&(n=!0)}return i&&e&&n}))}else xi(o,(function(n){if("empty"===i)t.setData(e=e.map(n,(function(t){return function(t){return t>=a[0]&&t<=a[1]}(t)?t:NaN})));else{var o={};o[n]=a,e.selectRange(o)}}));xi(o,(function(t){e.setApproximateExtent(a,t)}))}}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;xi(["min","max"],(function(o){var i=e.get(o+"Span"),a=e.get(o+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?i=E(n[0]+a,n,[0,100],!0):null!=i&&(a=E(i,[0,100],n,!0)-n[0]),t[o+"Span"]=i,t[o+"ValueSpan"]=a}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var o=z(n,[0,500]);o=Math.min(o,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(o)),100!==e[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(o)),i.freeze()}},t}();const Mi={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(o,i){var a=t.getComponent(di(o),i);e(o,i,a,n)}))}))}e((function(t,e,n,o){n.__dzAxisProxy=null}));var n=[];e((function(e,o,i,a){i.__dzAxisProxy||(i.__dzAxisProxy=new bi(e,o,a,t),n.push(i.__dzAxisProxy))}));var o=pt();return R(n,(function(t){R(t.getTargetSeriesModels(),(function(t){o.set(t.uid,t)}))})),o},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,o){t.getAxisProxy(n,o).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),o=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]})}}))}};var wi=!1;function Si(t){wi||(wi=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Mi),function(t){t.registerAction("dataZoom",(function(t,e){var n=ci(e,t);R(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function Ai(t){t.registerComponentModel(vi),t.registerComponentView(yi),Si(t)}var Ci=function(){},Ii={};function Ti(t,e){Ii[t]=e}function ki(t){return Ii[t]}const Li=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;R(this.option.feature,(function(t,n){var o=ki(n);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),H(t,o.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(V);const Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.render=function(t,e,n,o){var i=this.group;if(i.removeAll(),t.get("show")){var a,r,s,l,u=+t.get("itemSize"),d="vertical"===t.get("orient"),c=t.get("feature")||{},h=this._features||(this._features={}),p=[];R(c,(function(t,e){p.push(e)})),new Lt(this._featureNames||[],p).add(f).update(f).remove(Rt(f,null)).execute(),this._featureNames=p,function(t,e,n){var o=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},r=et(o,a,i);jt(e.get("orient"),t,e.get("itemGap"),r.width,r.height),Wt(t,o,a,i)}(i,t,n),i.add((a=i.getBoundingRect(),s=Ft((r=t).get("padding")),(l=r.getItemStyle(["color","opacity"])).fill=r.get("backgroundColor"),new ft({shape:{x:a.x-s[3],y:a.y-s[0],width:a.width+s[1]+s[3],height:a.height+s[0]+s[2],r:r.get("borderRadius")},style:l,silent:!0,z2:-1}))),d||i.eachChild((function(t){var e=t.__title,o=t.ensureState("emphasis"),a=o.textConfig||(o.textConfig={}),r=t.getTextContent(),s=r&&r.ensureState("emphasis");if(s&&!L(s)&&e){var l=s.style||(s.style={}),d=P(e,Jt.makeFont(l)),c=t.x+i.x,h=!1;t.y+i.y+u+d.height>n.getHeight()&&(a.position="top",h=!0);var p=h?-5-d.height:u+10;c+d.width/2>n.getWidth()?(a.position=["100%",p],l.align="right"):c-d.width/2<0&&(a.position=[0,p],l.align="left")}}))}function f(a,r){var s,l=p[a],f=p[r],g=c[l],v=new Ut(g,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===l&&(g.title=o.newTitle),l&&!f){if(function(t){return 0===t.indexOf("my")}(l))s={onclick:v.option.onclick,featureName:l};else{var m=ki(l);if(!m)return;s=new m}h[l]=s}else if(!(s=h[f]))return;s.uid=Xt("toolbox-feature"),s.model=v,s.ecModel=e,s.api=n;var y=s instanceof Ci;l||!f?!v.get("show")||y&&s.unusable?y&&s.remove&&s.remove(e,n):(!function(o,a,r){var s,l,c=o.getModel("iconStyle"),h=o.getModel(["emphasis","iconStyle"]),p=a instanceof Ci&&a.getIcons?a.getIcons():o.get("icon"),f=o.get("title")||{};qt(p)?(s={})[r]=p:s=p;qt(f)?(l={})[r]=f:l=f;var g=o.iconPaths={};R(s,(function(r,s){var p=Kt(r,{},{x:-u/2,y:-u/2,width:u,height:u});p.setStyle(c.getItemStyle()),p.ensureState("emphasis").style=h.getItemStyle();var f=new Jt({style:{text:l[s],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null,font:$t({fontStyle:h.get("textFontStyle"),fontFamily:h.get("textFontFamily"),fontSize:h.get("textFontSize"),fontWeight:h.get("textFontWeight")},e)},ignore:!0});p.setTextContent(f),te({el:p,componentModel:t,itemName:s,formatterParamsExtra:{title:l[s]}}),p.__title=l[s],p.on("mouseover",(function(){var e=h.getItemStyle(),o=d?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";f.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||o}),f.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==o.get(["iconStatus",s])&&n.leaveEmphasis(this),f.hide()})),("emphasis"===o.get(["iconStatus",s])?Yt:Qt)(p),i.add(p),p.on("click",Ct(a.onclick,a,e,n,s)),g[s]=p}))}(v,s,l),v.setIconStatus=function(t,e){var n=this.option,o=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,o[t]&&("emphasis"===e?Yt:Qt)(o[t])},s instanceof Ci&&s.render&&s.render(v,e,n,o)):y&&s.dispose&&s.dispose(e,n)}},e.prototype.updateView=function(t,e,n,o){R(this._features,(function(t){t instanceof Ci&&t.updateView&&t.updateView(t.model,e,n,o)}))},e.prototype.remove=function(t,e){R(this._features,(function(n){n instanceof Ci&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){R(this._features,(function(n){n instanceof Ci&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(wt);const Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.onclick=function(t,e){var n=this.model,o=n.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),a=i?"svg":n.get("type",!0)||"png",r=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=ee.browser;if(L(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=o+"."+a,l.target="_blank",l.href=r;var u=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob||i){var d=r.split(","),c=d[0].indexOf("base64")>-1,h=i?decodeURIComponent(d[1]):d[1];c&&(h=window.atob(h));var p=o+"."+a;if(window.navigator.msSaveOrOpenBlob){for(var f=h.length,g=new Uint8Array(f);f--;)g[f]=h.charCodeAt(f);var v=new Blob([g]);window.navigator.msSaveOrOpenBlob(v,p)}else{var m=document.createElement("iframe");document.body.appendChild(m);var y=m.contentWindow,x=y.document;x.open("image/svg+xml","replace"),x.write(h),x.close(),y.focus(),x.execCommand("SaveAs",!0,p),document.body.removeChild(m)}}else{var _=n.get("lang"),b='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(_&&_[0]||"")+'" /></body>',M=window.open();M.document.write(b),M.document.title=o}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(Ci);var Oi="__ec_magicType_stack__",Ri=[["line","bar"],["stack"]],zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return R(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var o=this.model,i=o.get(["seriesIndex",n]);if(Ei[n]){var a,r={series:[]};R(Ri,(function(t){it(t,n)>=0&&R(t,(function(t){o.setIconStatus(t,"normal")}))})),o.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},(function(t){var e=t.subType,i=t.id,a=Ei[n](e,i,t,o);a&&(j(a,t.option),r.series.push(a));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",d=t.getReferringComponents(u,G).models[0].componentIndex;r[u]=r[u]||[];for(var c=0;c<=d;c++)r[u][d]=r[u][d]||{};r[u][d].boundaryGap="bar"===n}}}));var s=n;"stack"===n&&(a=H({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",n])&&(s="tiled")),e.dispatchAction({type:"changeMagicType",currentType:s,newOption:r,newTitle:a,featureName:"magicType"})}},e}(Ci),Ei={line:function(t,e,n,o){if("bar"===t)return H({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(t,e,n,o){if("line"===t)return H({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(t,e,n,o){var i=n.get("stack")===Oi;if("line"===t||"bar"===t)return o.setIconStatus("stack",i?"normal":"emphasis"),H({id:e,stack:i?"":Oi},o.get(["option","stack"])||{},!0)}};ne({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));const Ni=zi;var Bi=new Array(60).join("-"),Vi="\t";function Gi(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Zi=new RegExp("["+Vi+"]+","g");function Hi(t,e){var n=t.split(new RegExp("\n*"+Bi+"\n*","g")),o={series:[]};return R(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(Vi)>=0)return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),n=Gi(e.shift()).split(Zi),o=[],i=T(n,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var r=Gi(e[a]).split(Zi);o.push(r.shift());for(var s=0;s<r.length;s++)i[s]&&(i[s].data[a]=r[s])}return{series:i,categories:o}}(t),a=e[n],r=a.axisDim+"Axis";a&&(o[r]=o[r]||[],o[r][a.axisIndex]={data:i.categories},o.series=o.series.concat(i.series))}else{i=function(t){for(var e=t.split(/\n+/g),n=Gi(e.shift()),o=[],i=0;i<e.length;i++){var a=Gi(e[i]);if(a){var r=a.split(Zi),s="",l=void 0,u=!1;isNaN(r[0])?(u=!0,s=r[0],r=r.slice(1),o[i]={name:s,value:[]},l=o[i].value):l=o[i]=[];for(var d=0;d<r.length;d++)l.push(+r[d]);1===l.length&&(u?o[i].value=l[0]:o[i]=l[0])}}return{name:n,data:o}}(t);o.series.push(i)}})),o}var ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=o.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=o.get("lang")||[];a.innerHTML=r[0]||o.get("title"),a.style.cssText="margin:10px 20px",a.style.color=o.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var u=o.get("optionToContent"),d=o.get("contentToOption"),c=function(t){var e,n,o,i=function(t){var e={},n=[],o=[];return t.eachRawSeries((function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var a=i.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:i.getOtherAxis(a),series:[]},o.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:o}}(t);return{value:Y([(n=i.seriesGroupByCategoryAxis,o=[],R(n,(function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,a=[" "].concat(T(t.series,(function(t){return t.name}))),r=[n.model.getCategories()];R(t.series,(function(t){var e=t.getRawData();r.push(t.getRawData().mapArray(e.mapDimension(i),(function(t){return t})))}));for(var s=[a.join(Vi)],l=0;l<r[0].length;l++){for(var u=[],d=0;d<r.length;d++)u.push(r[d][l]);s.push(u.join(Vi))}o.push(s.join("\n"))})),o.join("\n\n"+Bi+"\n\n")),(e=i.other,T(e,(function(t){var e=t.getRawData(),n=[t.name],o=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,i=arguments[t-1],a=e.getName(i),r=0;r<t-1;r++)o[r]=arguments[r];n.push((a?a+Vi:"")+o.join(Vi))})),n.join("\n")})).join("\n\n"+Bi+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+Bi+"\n\n"),meta:i.meta}}(t);if(L(u)){var h=u(e.getOption());qt(h)?s.innerHTML=h:oe(h)&&s.appendChild(h)}else{l.readOnly=o.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=o.get("textColor"),p.borderColor=o.get("textareaBorderColor"),p.backgroundColor=o.get("textareaColor"),l.value=c.value,s.appendChild(l)}var f=c.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),y=document.createElement("div");v+=";background-color:"+o.get("buttonColor"),v+=";color:"+o.get("buttonTextColor");var x=this;function _(){n.removeChild(i),x._dom=null}ie(m,"click",_),ie(y,"click",(function(){if(null==d&&null!=u||null!=d&&null==u)_();else{var t;try{t=L(d)?d(s,e.getOption()):Hi(l.value,f)}catch(n){throw _(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),_()}})),m.innerHTML=r[1],y.innerHTML=r[2],y.style.cssText=m.style.cssText=v,!o.get("readOnly")&&g.appendChild(y),g.appendChild(m),i.appendChild(a),i.appendChild(s),i.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(Ci);function Wi(t,e){return T(t,(function(t,n){var o=e&&e[n];if(ot(o)&&!C(o)){ot(t)&&!C(t)||(t={value:t});var i=null!=o.name&&null==t.name;return t=j(t,o),i&&delete t.name,t}return t}))}ne({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];R(t.newOption.series,(function(t){var o=e.getSeriesByName(t.name)[0];if(o){var i=o.get("data");n.push({name:t.name,data:Wi(t.data,i)})}else n.push(yt({type:"scatter"},t))})),e.mergeOption(j({series:n},t.newOption))}));const Fi=ji;var Ui=R,Xi=I();function Yi(t){var e=Xi(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.onclick=function(t,e){!function(t){Xi(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(Ci);ne({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));const qi=Qi;var Ki=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ji=function(){function t(t,e,n){var o=this;this._targetInfoList=[];var i=ta(e,t);R(ea,(function(t,e){(!n||!n.include||it(n.include,e)>=0)&&t(i,o._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var o=ia[t.brushType](0,n,e);t.__rangeOffset={offset:ra[t.brushType](o.values,t.range,[1,1]),xyMinMax:o.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){R(t,(function(t){var o=this.findTargetInfo(t,e);o&&!0!==o&&R(o.coordSyses,(function(o){var i=ia[t.brushType](1,o,t.range,!0);n(t,i.values,o,e)}))}),this)},t.prototype.setInputRanges=function(t,e){R(t,(function(t){var n,o,i,a,r,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=ia[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?ra[t.brushType](l.values,u.offset,(n=l.xyMinMax,o=u.xyMinMax,i=la(n),a=la(o),r=[i[0]/a[0],i[1]/a[1]],isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return T(this._targetInfoList,(function(n){var o=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:ii(o),isTargetByCursor:ri(o,t,n.coordSysModel),getLinearBrushOtherExtent:ai(o)}}))},t.prototype.controlSeries=function(t,e,n){var o=this.findTargetInfo(t,n);return!0===o||o&&it(o.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,o=ta(e,t),i=0;i<n.length;i++){var a=n[i],r=t.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<na.length;s++)if(na[s](o,a))return a}return!0},t}();function $i(t){return t[0]>t[1]&&t.reverse(),t}function ta(t,e){return ae(t,e,{includeMainTypes:Ki})}var ea={grid:function(t,e){var n=t.xAxisModels,o=t.yAxisModels,i=t.gridModels,a=pt(),r={},s={};(n||o||i)&&(R(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0})),R(o,(function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0})),R(i,(function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0})),a.each((function(t){var i=t.coordinateSystem,a=[];R(i.getCartesians(),(function(t,e){(it(n,t.getAxis("x").model)>=0||it(o,t.getAxis("y").model)>=0)&&a.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:oa.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){R(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:oa.geo})}))}},na=[function(t,e){var n=t.xAxisModel,o=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&o&&(i=o.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],oa={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Et(t)),e}},ia={lineX:Rt(aa,0),lineY:Rt(aa,1),rect:function(t,e,n,o){var i=t?e.pointToData([n[0][0],n[1][0]],o):e.dataToPoint([n[0][0],n[1][0]],o),a=t?e.pointToData([n[0][1],n[1][1]],o):e.dataToPoint([n[0][1],n[1][1]],o),r=[$i([i[0],a[0]]),$i([i[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,n,o){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:T(n,(function(n){var a=t?e.pointToData(n,o):e.dataToPoint(n,o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a})),xyMinMax:i}}};function aa(t,e,n,o){var i=n.getAxis(["x","y"][t]),a=$i(T([0,1],(function(t){return e?i.coordToData(i.toLocalCoord(o[t]),!0):i.toGlobalCoord(i.dataToCoord(o[t]))}))),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}var ra={lineX:Rt(sa,0),lineY:Rt(sa,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return T(t,(function(t,o){return[t[0]-n[0]*e[o][0],t[1]-n[1]*e[o][1]]}))}};function sa(t,e,n,o){return[e[0]-o[t]*n[0],e[1]-o[t]*n[1]]}function la(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}const ua=Ji;var da=R,ca=se("toolbox-dataZoom_"),ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.render=function(t,e,n,o){this._brushController||(this._brushController=new oi(n.getZr()),this._brushController.on("brush",Ct(this._onBrush,this)).mount()),function(t,e,n,o,i){var a=n._isZoomActive;o&&"takeGlobalCursor"===o.type&&(a="dataZoomSelect"===o.key&&o.dataZoomSelectActive);n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new ua(fa(t),e,{include:["grid"]}),s=r.makePanelOpts(i,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,o,n),function(t,e){t.setIconStatus("back",function(t){return Yi(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){pa[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},o=this.ecModel;this._brushController.updateCovers([]),new ua(fa(this.model),o,{include:["grid"]}).matchOutputRanges(e,o,(function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[o],n,e)}})),function(t,e){var n=Yi(t);Ui(e,(function(e,o){for(var i=n.length-1;i>=0&&!n[i][o];i--);if(i<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(a){var r=a.getPercentRange();n[0][o]={dataZoomId:o,start:r[0],end:r[1]}}}})),n.push(e)}(o,n),this._dispatchZoomAction(n)}function i(t,e,i){var a=e.getAxis(t),r=a.model,s=function(t,e,n){var o;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(o=n)})),o}(t,r,o),l=s.findRepresentativeAxisProxy(r).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(i=co(0,i.slice(),a.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];da(t,(function(t,n){e.push(Tt(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(Ci),pa={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=Yi(t),n=e[e.length-1];e.length>1&&e.pop();var o={};return Ui(n,(function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){o[n]=t;break}})),o}(this.ecModel))}};function fa(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}re("dataZoom",(function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var o=e.getModel(n),i=[],a=fa(o),r=ae(t,a);return da(r.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),da(r.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),i}function s(t,e,n){var a=t.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:ca+e+a};r[n]=a,i.push(r)}}));const ga=ha;const va=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.type="dataZoom.inside",e.defaultOption=le(gi.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(gi);var ma=I();function ya(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function xa(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function _a(t,e,n,o){return t.coordinateSystem.containPoint([n,o])}function ba(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=ma(e),o=n.coordSysRecordMap||(n.coordSysRecordMap=pt());o.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=hi(t);R(n.infoList,(function(n){var i=n.model.uid,a=o.get(i)||o.set(i,function(t,e){var n={model:e,containsPoint:Rt(_a,e),dispatchAction:Rt(xa,t),dataZoomInfoMap:null,controller:null},o=n.controller=new de(t.getZr());return R(["pan","zoom","scrollMove"],(function(t){o.on(t,(function(e){var o=[];n.dataZoomInfoMap.each((function(i){if(e.isAvailableBehavior(i.model.option)){var a=(i.getRange||{})[t],r=a&&a(i.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!i.model.get("disabled",!0)&&r&&o.push({dataZoomId:i.model.id,start:r[0],end:r[1]})}})),o.length&&n.dispatchAction(o)}))})),n}(e,n.model));(a.dataZoomInfoMap||(a.dataZoomInfoMap=pt())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),o.each((function(t){var e,n=t.controller,i=t.dataZoomInfoMap;if(i){var a=i.keys()[0];null!=a&&(e=i.get(a))}if(e){var r=function(t){var e,n="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each((function(t){var a=t.model,r=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");o[n+r]>o[n+e]&&(e=r),i=i&&a.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(i);n.enable(r.controlType,r.opt),n.setPointerChecker(t.containsPoint),ue(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else ya(o,t)}))}))}var Ma=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return B(e,t),e.prototype.render=function(e,n,o){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function(t,e,n){ma(t).coordSysRecordMap.each((function(t){var o=t.dataZoomInfoMap.get(e.uid);o&&(o.getRange=n)}))}(o,e,{pan:Ct(wa.pan,this),zoom:Ct(wa.zoom,this),scrollMove:Ct(wa.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=ma(t).coordSysRecordMap,o=n.keys(),i=0;i<o.length;i++){var a=o[i],r=n.get(a),s=r.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||ya(n,r))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(mi),wa={zoom:function(t,e,n,o){var i=this.range,a=i.slice(),r=t.axisModels[0];if(r){var s=Aa[e](null,[o.originX,o.originY],r,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/o.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return co(0,a,[0,100],0,d.minSpan,d.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}},pan:Sa((function(t,e,n,o,i,a){var r=Aa[o]([a.oldX,a.oldY],[a.newX,a.newY],e,i,n);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength})),scrollMove:Sa((function(t,e,n,o,i,a){return Aa[o]([0,0],[a.scrollDelta,a.scrollDelta],e,i,n).signal*(t[1]-t[0])*a.scrollDelta}))};function Sa(t){return function(e,n,o,i){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s)return co(t(r,s,e,n,o,i),r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}var Aa={grid:function(t,e,n,o,i){var a=n.axis,r={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,n,o,i){var a=n.axis,r={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=u[1]-u[0],r.pixelStart=u[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,n,o,i){var a=n.axis,r=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}};const Ca=Ma;function Ia(t){Si(t),t.registerComponentModel(va),t.registerComponentView(Ca),ba(t)}const Ta=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return B(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=le(gi.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(gi);var ka=ft,La="horizontal",Da="vertical",Pa=["line","bar","candlestick","scatter"],Oa={easing:"cubicOut",duration:100,delay:0};function Ra(t){return"vertical"===t?"ns-resize":"ew-resize"}const za=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return B(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Ct(this._onBrush,this),this._onBrushEnd=Ct(this._onBrushEnd,this)},e.prototype.render=function(e,n,o,i){if(t.prototype.render.apply(this,arguments),ue(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ce(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new gt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,o=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},a=this._orient===La?{right:i.width-o.x-o.width,top:i.height-30-7-n,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},r=F(t.option);R(["right","top","width","height"],(function(t){"ph"===r[t]&&(r[t]=a[t])}));var s=et(r,i);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===Da&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),i=o&&o.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==La||i?n===La&&i?{scaleY:r?1:-1,scaleX:-1}:n!==Da||i?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var s=t.getBoundingRect([a]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,o=t.get("brushSelect");n.add(new ka({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var i=new ka({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Ct(this._onClickPanel,this)}),a=this.api.getZr();o?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(i)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],o=t.series,i=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),r=a&&i.getDimensionInfo(a)?o.getShadowDim():t.otherDim;if(null!=r){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(i!==this._shadowData||r!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var u=i.getDataExtent(r),d=.3*(u[1]-u[0]);u=[u[0]-d,u[1]+d];var c,h=[0,e[1]],p=[0,e[0]],f=[[e[0],0],[0,0]],g=[],v=p[1]/(i.count()-1),m=0,y=Math.round(i.count()/e[0]);i.each([r],(function(t,e){if(y>0&&e%y)m+=v;else{var n=null==t||isNaN(t)||""===t,o=n?0:E(t,u,h,!0);n&&!c&&e?(f.push([f[f.length-1][0],0]),g.push([g[g.length-1][0],0])):!n&&c&&(f.push([m,0]),g.push([m,0])),f.push([m,o]),g.push([m,o]),m+=v,c=n}})),s=this._shadowPolygonPts=f,l=this._shadowPolylinePts=g}this._shadowData=i,this._shadowDim=r,this._shadowSize=[e[0],e[1]];for(var x,_,b,M,w,S=this.dataZoomModel,A=0;A<3;A++){var C=(x=1===A,_=void 0,b=void 0,M=void 0,w=void 0,_=S.getModel(x?"selectedDataBackground":"dataBackground"),b=new gt,M=new Ot({shape:{points:s},segmentIgnoreThreshold:1,style:_.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),w=new Pt({shape:{points:l},segmentIgnoreThreshold:1,style:_.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),b.add(M),b.add(w),b);this._displayables.sliderGroup.add(C),this._displayables.dataShadowSegs.push(C)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,o=this.ecModel;return t.eachTargetAxis((function(i,a){var r=t.getAxisProxy(i,a).getTargetSeriesModels();R(r,(function(t){if(!(n||!0!==e&&it(Pa,t.get("type"))<0)){var r,s=o.getComponent(di(i),a).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[i],u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(r=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:i,otherDim:l,otherAxisInverse:r}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],o=e.handleLabels=[null,null],i=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,s=this.api,l=r.get("borderRadius")||0,u=r.get("brushSelect"),d=e.filler=new ka({silent:u,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});i.add(d),i.add(new ka({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:l},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),R([0,1],(function(e){var a=r.get("handleIcon");!he[a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=pe(a,-1,0,2,2,null,!0);s.attr({cursor:Ra(this._orient),draggable:!0,drift:Ct(this._onDragMove,this,e),ondragend:Ct(this._onDragEnd,this),onmouseover:Ct(this._showDataInfo,this,!0),onmouseout:Ct(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=r.get("handleSize");this._handleHeight=fe(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(r.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),ge(s);var d=r.get("handleColor");null!=d&&(s.style.fill=d),i.add(n[e]=s);var c=r.getModel("textStyle");t.add(o[e]=new Jt({silent:!0,invisible:!0,style:ve(c,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:c.getTextColor(),font:c.getFont()}),z2:10}))}),this);var c=d;if(u){var h=fe(r.get("moveHandleSize"),a[1]),p=e.moveHandle=new ft({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:h}}),f=.8*h,g=e.moveHandleIcon=pe(r.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);g.silent=!0,g.y=a[1]+h/2-.5,p.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var v=Math.min(a[1]/2,Math.max(h,10));(c=e.moveZone=new ft({invisible:!0,shape:{y:a[1]-v,height:h+v}})).on("mouseover",(function(){s.enterEmphasis(p)})).on("mouseout",(function(){s.leaveEmphasis(p)})),i.add(p),i.add(g),i.add(c)}c.attr({draggable:!0,cursor:Ra(this._orient),drift:Ct(this._onDragMove,this,"all"),ondragstart:Ct(this._showDataInfo,this,!0),ondragend:Ct(this._onDragEnd,this),onmouseover:Ct(this._showDataInfo,this,!0),onmouseout:Ct(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[E(t[0],[0,100],e,!0),E(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,o=this._handleEnds,i=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];co(e,o,i,n.get("zoomLock")?"all":t,null!=a.minSpan?E(a.minSpan,r,i,!0):null,null!=a.maxSpan?E(a.maxSpan,r,i,!0):null);var s=this._range,l=this._range=Ht([E(o[0],i,r,!0),E(o[1],i,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,o=Ht(n.slice()),i=this._size;R([0,1],(function(t){var o=e.handles[t],a=this._handleHeight;o.attr({scaleX:a/2,scaleY:a/2,x:n[t]+(t?-1:1),y:i[1]/2-a/2})}),this),e.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:i[1]});var a={x:o[0],width:o[1]-o[0]};e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=e.dataShadowSegs,s=[0,o[0],o[1],i[0]],l=0;l<r.length;l++){var u=r[l],d=u.getClipPath();d||(d=new ft,u.setClipPath(d)),d.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:i[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,o=n.handleLabels,i=this._orient,a=["",""];if(e.get("showDetail")){var r=e.findRepresentativeAxisProxy();if(r){var s=r.getAxisModel().axis,l=this._range,u=t?r.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var d=Ht(this._handleEnds.slice());function c(t){var e=Et(n.handles[t].parent,this.group),r=zt(0===t?"right":"left",e),s=this._handleWidth/2+5,l=me([d[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({x:l[0],y:l[1],verticalAlign:i===La?"middle":r,align:i===La?r:"center",text:a[t]})}c.call(this,0),c.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,o=n.get("labelFormatter"),i=n.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(i,20));return L(o)?o(t,a):qt(o)?o.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,o){this._dragging=!0,ye(o.event);var i=this._displayables.sliderGroup.getLocalTransform(),a=me([e,n],i,!0),r=this._updateInterval(t,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var o=this._handleEnds,i=(o[0]+o[1])/2,a=this._updateInterval("all",n[0]-i);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new xe(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),i=[0,100];this._range=Ht([E(n.x,o,i,!0),E(n.x+n.width,o,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(ye(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,o=this.dataZoomModel,i=n.brushRect;i||(i=n.brushRect=new ka({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(i)),i.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,s=r.transformCoordToLocal(t,e),l=r.transformCoordToLocal(a.x,a.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),i.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Oa:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=hi(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var o=this.api.getWidth(),i=this.api.getHeight();t={x:.2*o,y:.2*i,width:.6*o,height:.6*i}}return t},e.type="dataZoom.slider",e}(mi);function Ea(t){t.registerComponentModel(Ta),t.registerComponentView(za),Si(t)}const Na=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return B(e,t),e.prototype.getInitialData=function(t){return _e(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new gt,n=pe("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),a="none"===o?"circle":o,r=.8*t.itemHeight,s=pe(a,(t.itemWidth-r)/2,(t.itemHeight-r)/2,r,r,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?i:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),a.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(be);function Ba(t,e,n){var o=t.getBaseAxis(),i=t.getOtherAxis(o),a=function(t,e){var n=0,o=t.scale.getExtent();"start"===e?n=o[0]:"end"===e?n=o[1]:we(e)&&!isNaN(e)?n=e:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]);return n}(i,n),r=o.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(r),d="x"===s||"radius"===s?1:0,c=T(t.dimensions,(function(t){return e.mapDimension(t)})),h=!1,p=e.getCalculationInfo("stackResultDimension");return Me(e,c[0])&&(h=!0,c[0]=p),Me(e,c[1])&&(h=!0,c[1]=p),{dataDimsForPoint:c,valueStart:a,valueAxisDim:s,baseAxisDim:r,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:d,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Va(t,e,n,o){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),o)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=n.get(t.baseDim,o),r[1-a]=i,e.dataToPoint(r)}var Ga=Math.min,Za=Math.max;function Ha(t,e){return isNaN(t)||isNaN(e)}function ja(t,e,n,o,i,a,r,s,l){for(var u,d,c,h,p,f,g=n,v=0;v<o;v++){var m=e[2*g],y=e[2*g+1];if(g>=i||g<0)break;if(Ha(m,y)){if(l){g+=a;continue}break}if(g===n)t[a>0?"moveTo":"lineTo"](m,y),c=m,h=y;else{var x=m-u,_=y-d;if(x*x+_*_<.5){g+=a;continue}if(r>0){for(var b=g+a,M=e[2*b],w=e[2*b+1];M===m&&w===y&&v<o;)v++,g+=a,M=e[2*(b+=a)],w=e[2*b+1],x=(m=e[2*g])-u,_=(y=e[2*g+1])-d;var S=v+1;if(l)for(;Ha(M,w)&&S<o;)S++,M=e[2*(b+=a)],w=e[2*b+1];var A=.5,C=0,I=0,T=void 0,k=void 0;if(S>=o||Ha(M,w))p=m,f=y;else{C=M-u,I=w-d;var L=m-u,D=M-m,P=y-d,O=w-y,R=void 0,z=void 0;if("x"===s){var E=C>0?1:-1;p=m-E*(R=Math.abs(L))*r,f=y,T=m+E*(z=Math.abs(D))*r,k=y}else if("y"===s){var N=I>0?1:-1;p=m,f=y-N*(R=Math.abs(P))*r,T=m,k=y+N*(z=Math.abs(O))*r}else R=Math.sqrt(L*L+P*P),p=m-C*r*(1-(A=(z=Math.sqrt(D*D+O*O))/(z+R))),f=y-I*r*(1-A),k=y+I*r*A,T=Ga(T=m+C*r*A,Za(M,m)),k=Ga(k,Za(w,y)),T=Za(T,Ga(M,m)),f=y-(I=(k=Za(k,Ga(w,y)))-y)*R/z,p=Ga(p=m-(C=T-m)*R/z,Za(u,m)),f=Ga(f,Za(d,y)),T=m+(C=m-(p=Za(p,Ga(u,m))))*z/R,k=y+(I=y-(f=Za(f,Ga(d,y))))*z/R}t.bezierCurveTo(c,h,p,f,m,y),c=T,h=k}else t.lineTo(m,y)}u=m,d=y,g+=a}return v}var Wa=function(){this.smooth=0,this.smoothConstraint=!0},Fa=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return B(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Wa},e.prototype.buildPath=function(t,e){var n=e.points,o=0,i=n.length/2;if(e.connectNulls){for(;i>0&&Ha(n[2*i-2],n[2*i-1]);i--);for(;o<i&&Ha(n[2*o],n[2*o+1]);o++);}for(;o<i;)o+=ja(t,n,o,i,i,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,o,i=this.path.data,a=Se.CMD,r="x"===e,s=[],l=0;l<i.length;){var u=void 0,d=void 0,c=void 0,h=void 0,p=void 0,f=void 0,g=void 0;switch(i[l++]){case a.M:n=i[l++],o=i[l++];break;case a.L:if(u=i[l++],d=i[l++],(g=r?(t-n)/(u-n):(t-o)/(d-o))<=1&&g>=0){var v=r?(d-o)*g+o:(u-n)*g+n;return r?[t,v]:[v,t]}n=u,o=d;break;case a.C:u=i[l++],d=i[l++],c=i[l++],h=i[l++],p=i[l++],f=i[l++];var m=r?Ae(n,u,c,p,t,s):Ae(o,d,h,f,t,s);if(m>0)for(var y=0;y<m;y++){var x=s[y];if(x<=1&&x>=0){v=r?Ie(o,d,h,f,x):Ie(n,u,c,p,x);return r?[t,v]:[v,t]}}n=p,o=f}}},e}(Ce),Ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e}(Wa),Xa=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return B(e,t),e.prototype.getDefaultShape=function(){return new Ua},e.prototype.buildPath=function(t,e){var n=e.points,o=e.stackedOnPoints,i=0,a=n.length/2,r=e.smoothMonotone;if(e.connectNulls){for(;a>0&&Ha(n[2*a-2],n[2*a-1]);a--);for(;i<a&&Ha(n[2*i],n[2*i+1]);i++);}for(;i<a;){var s=ja(t,n,i,a,a,1,e.smooth,r,e.connectNulls);ja(t,o,i+s-1,s,a,-1,e.stackedOnSmooth,r,e.connectNulls),i+=s+1,t.closePath()}},e}(Ce);function Ya(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Qa(t){for(var e=1/0,n=1/0,o=-1/0,i=-1/0,a=0;a<t.length;){var r=t[a++],s=t[a++];isNaN(r)||(e=Math.min(r,e),o=Math.max(r,o)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[o,i]]}function qa(t,e){var n=Qa(t),o=n[0],i=n[1],a=Qa(e),r=a[0],s=a[1];return Math.max(Math.abs(o[0]-r[0]),Math.abs(o[1]-r[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Ka(t){return we(t)?t:t?.5:0}function Ja(t,e,n,o){var i=e.getBaseAxis(),a="x"===i.dim||"radius"===i.dim?0:1,r=[],s=0,l=[],u=[],d=[],c=[];if(o){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||c.push(t[s],t[s+1]);t=c}for(s=0;s<t.length-2;s+=2)switch(d[0]=t[s+2],d[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],r.push(u[0],u[1]),n){case"end":l[a]=d[a],l[1-a]=u[1-a],r.push(l[0],l[1]);break;case"middle":var h=(u[a]+d[a])/2,p=[];l[a]=p[a]=h,l[1-a]=u[1-a],p[1-a]=d[1-a],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[a]=u[a],l[1-a]=d[1-a],r.push(l[0],l[1])}return r.push(t[s++],t[s++]),r}function $a(t,e,n){var o=t.getVisual("visualMeta");if(o&&o.length&&t.count()&&"cartesian2d"===e.type){for(var i,a,r=o.length-1;r>=0;r--){var s=t.getDimensionInfo(o[r].dimension);if("x"===(i=s&&s.coordDim)||"y"===i){a=o[r];break}}if(a){var l=e.getAxis(i),u=T(a.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),d=u.length,c=a.outerColors.slice();d&&u[0].coord>u[d-1].coord&&(u.reverse(),c.reverse());var h=function(t,e){var n,o,i=[],a=t.length;function r(t,e,n){var o=t.coord,i=(n-o)/(e.coord-o);return{coord:n,color:Ye(i,[t.color,e.color])}}for(var s=0;s<a;s++){var l=t[s],u=l.coord;if(u<0)n=l;else{if(u>e){o?i.push(r(o,l,e)):n&&i.push(r(n,l,0),r(n,l,e));break}n&&(i.push(r(n,l,0)),n=null),i.push(l),o=l}}return i}(u,"x"===i?n.getWidth():n.getHeight()),p=h.length;if(!p&&d)return u[0].coord<0?c[1]?c[1]:u[d-1].color:c[0]?c[0]:u[0].color;var f=h[0].coord-10,g=h[p-1].coord+10,v=g-f;if(v<.001)return"transparent";R(h,(function(t){t.offset=(t.coord-f)/v})),h.push({offset:p?h[p-1].offset:.5,color:c[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:c[0]||"transparent"});var m=new Ue(0,0,0,0,h,!0);return m[i]=f,m[i+"2"]=g,m}}}function tr(t,e,n){var o=t.get("showAllSymbol"),i="auto"===o;if(!o||i){var a=n.getAxesByScale("ordinal")[0];if(a&&(!i||!function(t,e){var n=t.getExtent(),o=Math.abs(n[1]-n[0])/t.scale.count();isNaN(o)&&(o=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),r=0;r<i;r+=a)if(1.5*Ee.getSymbolSize(e,r)[t.isHorizontal()?1:0]>o)return!1;return!0}(a,e))){var r=e.mapDimension(a.dim),s={};return R(a.getViewLabels(),(function(t){var e=a.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function er(t,e){return[t[2*e],t[2*e+1]]}function nr(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Xe.length;e++)if(t.get([Xe[e],"endLabel","show"]))return!0;return!1}function or(t,e,n,o){if(function(t,e){return t.type===e}(e,"cartesian2d")){var i=o.getModel("endLabel"),a=i.get("valueAnimation"),r=o.getData(),s={lastFrameIndex:0},l=nr(o)?function(n,o){t._endLabelOnDuring(n,o,r,s,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),d=function(t,e,n,o,i){var a=t.getArea(),r=a.x,s=a.y,l=a.width,u=a.height,d=n.get(["lineStyle","width"])||2;r-=d/2,s-=d/2,l+=d,u+=d,l=Math.ceil(l),r!==Math.floor(r)&&(r=Math.floor(r),l++);var c=new ft({shape:{x:r,y:s,width:l,height:u}});if(e){var h=t.getBaseAxis(),p=h.isHorizontal(),f=h.inverse;p?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0);var g=L(i)?function(t){i(t,c)}:null;Te(c,{shape:{width:l,height:u,x:r,y:s}},n,null,o,g)}return c}(e,n,o,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!o.get("clip",!0)){var c=d.shape,h=Math.max(c.width,c.height);u?(c.y-=h,c.height+=2*h):(c.x-=h,c.width+=2*h)}return l&&l(1,d),d}return function(t,e,n){var o=t.getArea(),i=N(o.r0,1),a=N(o.r,1),r=new ke({shape:{cx:N(t.cx,1),cy:N(t.cy,1),r0:i,r:a,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});return e&&("angle"===t.getBaseAxis().dim?r.shape.endAngle=o.startAngle:r.shape.r=i,Te(r,{shape:{endAngle:o.endAngle,r:a}},n)),r}(e,n,o)}const ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.init=function(){var t=new gt,e=new Le;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var o=this,i=t.coordinateSystem,a=this.group,r=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=r.getLayout("points")||[],d="polar"===i.type,c=this._coordSys,h=this._symbolDraw,p=this._polyline,f=this._polygon,g=this._lineGroup,v=!e.ssr&&t.get("animation"),m=!l.isEmpty(),y=l.get("origin"),x=Ba(i,r,y),_=m&&function(t,e,n){if(!n.valueDim)return[];for(var o=e.count(),i=bn(2*o),a=0;a<o;a++){var r=Va(n,t,e,a);i[2*a]=r[0],i[2*a+1]=r[1]}return i}(i,r,x),b=t.get("showSymbol"),M=t.get("connectNulls"),w=b&&!d&&tr(t,r,i),S=this._data;S&&S.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),S.setItemGraphicEl(e,null))})),b||h.remove(),a.add(g);var A,C=!d&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(null!=(A=i.getArea()).width?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var I=$a(r,i,n)||r.getVisual("style")[r.getVisual("drawType")];if(p&&c.type===i.type&&C===this._step){m&&!f?f=this._newPolygon(u,_):f&&!m&&(g.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(t,i,De(I));var T=g.getClipPath();if(T){var k=or(this,i,!1,t);Te(T,{shape:k.shape},t)}else g.setClipPath(or(this,i,!0,t));b&&h.updateData(r,{isIgnore:w,clipShape:A,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),Ya(this._stackedOnPoints,_)&&Ya(this._points,u)||(v?this._doUpdateAnimation(r,_,i,n,C,y,M):(C&&(u=Ja(u,i,C,M),_&&(_=Ja(_,i,C,M))),p.setShape({points:u}),f&&f.setShape({points:u,stackedOnPoints:_})))}else b&&h.updateData(r,{isIgnore:w,clipShape:A,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),v&&this._initSymbolLabelAnimation(r,i,A),C&&(u=Ja(u,i,C,M),_&&(_=Ja(_,i,C,M))),p=this._newPolyline(u),m?f=this._newPolygon(u,_):f&&(g.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(t,i,De(I)),g.setClipPath(or(this,i,!0,t));var L=t.getModel("emphasis"),D=L.get("focus"),P=L.get("blurScope"),O=L.get("disabled");(p.useStyle(j(s.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),Pe(p,t,"lineStyle"),p.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(p.getState("emphasis").style.lineWidth=+p.style.lineWidth+1);Oe(p).seriesIndex=t.seriesIndex,Re(p,D,P,O);var R=Ka(t.get("smooth")),z=t.get("smoothMonotone");if(p.setShape({smooth:R,smoothMonotone:z,connectNulls:M}),f){var E=r.getCalculationInfo("stackedOnSeries"),N=0;f.useStyle(j(l.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),E&&(N=Ka(E.get("smooth"))),f.setShape({smooth:R,stackedOnSmooth:N,smoothMonotone:z,connectNulls:M}),Pe(f,t,"areaStyle"),Oe(f).seriesIndex=t.seriesIndex,Re(f,D,P,O)}var B=function(t){o._changePolyState(t)};r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=B)})),this._polyline.onHoverStateChange=B,this._data=r,this._coordSys=i,this._stackedOnPoints=_,this._points=u,this._step=C,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,p),f&&this.packEventData(t,f))},e.prototype.packEventData=function(t,e){Oe(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,o){var i=t.getData(),a=ze(i,o);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var r=i.getLayout("points"),s=i.getItemGraphicEl(a);if(!s){var l=r[2*a],u=r[2*a+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var d=t.get("zlevel")||0,c=t.get("z")||0;(s=new Ee(i,a)).x=l,s.y=u,s.setZ(d,c);var h=s.getSymbolPath().getTextContent();h&&(h.zlevel=d,h.z=c,h.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else Ne.prototype.highlight.call(this,t,e,n,o)},e.prototype.downplay=function(t,e,n,o){var i=t.getData(),a=ze(i,o);if(this._changePolyState("normal"),null!=a&&a>=0){var r=i.getItemGraphicEl(a);r&&(r.__temp?(i.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else Ne.prototype.downplay.call(this,t,e,n,o)},e.prototype._changePolyState=function(t){var e=this._polygon;Be(this._polyline,t),e&&Be(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Fa({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Xa({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var o,i,a=e.getBaseAxis(),r=a.inverse;"cartesian2d"===e.type?(o=a.isHorizontal(),i=!1):"polar"===e.type&&(o="angle"===a.dim,i=!0);var s=t.hostModel,l=s.get("animationDuration");L(l)&&(l=l(null));var u=s.get("animationDelay")||0,d=L(u)?u(null):u;t.eachItemGraphicEl((function(t,a){var s=t;if(s){var c=[t.x,t.y],h=void 0,p=void 0,f=void 0;if(n)if(i){var g=n,v=e.pointToCoord(c);o?(h=g.startAngle,p=g.endAngle,f=-v[1]/180*Math.PI):(h=g.r0,p=g.r,f=v[0])}else{var m=n;o?(h=m.x,p=m.x+m.width,f=t.x):(h=m.y+m.height,p=m.y,f=t.y)}var y=p===h?0:(f-h)/(p-h);r&&(y=1-y);var x=L(u)?u(a):l*y+d,_=s.getSymbolPath(),b=_.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:x}),_.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var o=t.getModel("endLabel");if(nr(t)){var i=t.getData(),a=this._polyline,r=i.getLayout("points");if(!r)return a.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new Jt({z2:200})).ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var l=function(t){for(var e,n,o=t.length/2;o>0&&(e=t[2*o-2],n=t[2*o-1],isNaN(e)||isNaN(n));o--);return o-1}(r);l>=0&&(Ve(a,He(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?Ge(i,n):Ze(i,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),o=n.isHorizontal(),i=n.inverse,a=o?i?"right":"left":"center",r=o?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||r}}}(o,e)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,o,i,a,r){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==o.originalX&&(o.originalX=s.x,o.originalY=s.y);var u=n.getLayout("points"),d=n.hostModel,c=d.get("connectNulls"),h=a.get("precision"),p=a.get("distance")||0,f=r.getBaseAxis(),g=f.isHorizontal(),v=f.inverse,m=e.shape,y=v?g?m.x:m.y+m.height:g?m.x+m.width:m.y,x=(g?p:0)*(v?-1:1),_=(g?0:-p)*(v?-1:1),b=g?"x":"y",M=function(t,e,n){for(var o,i,a=t.length/2,r="x"===n?0:1,s=0,l=-1,u=0;u<a;u++)if(i=t[2*u+r],!isNaN(i)&&!isNaN(t[2*u+1-r]))if(0!==u){if(o<=e&&i>=e||o>=e&&i<=e){l=u;break}s=u,o=i}else o=i;return{range:[s,l],t:(e-o)/(i-o)}}(u,y,b),w=M.range,S=w[1]-w[0],A=void 0;if(S>=1){if(S>1&&!c){var C=er(u,w[0]);s.attr({x:C[0]+x,y:C[1]+_}),i&&(A=d.getRawValue(w[0]))}else{(C=l.getPointOn(y,b))&&s.attr({x:C[0]+x,y:C[1]+_});var I=d.getRawValue(w[0]),T=d.getRawValue(w[1]);i&&(A=je(n,h,I,T,M.t))}o.lastFrameIndex=w[0]}else{var k=1===t||o.lastFrameIndex>0?w[0]:0;C=er(u,k);i&&(A=d.getRawValue(k)),s.attr({x:C[0]+x,y:C[1]+_})}if(i){var L=We(s);"function"==typeof L.setLabelText&&L.setLabelText(A)}}},e.prototype._doUpdateAnimation=function(t,e,n,o,i,a,r){var s=this._polyline,l=this._polygon,u=t.hostModel,d=function(t,e,n,o,i,a,r,s){for(var l=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),u=[],d=[],c=[],h=[],p=[],f=[],g=[],v=Ba(i,e,r),m=t.getLayout("points")||[],y=e.getLayout("points")||[],x=0;x<l.length;x++){var _=l[x],b=!0,M=void 0,w=void 0;switch(_.cmd){case"=":M=2*_.idx,w=2*_.idx1;var S=m[M],A=m[M+1],C=y[w],I=y[w+1];(isNaN(S)||isNaN(A))&&(S=C,A=I),u.push(S,A),d.push(C,I),c.push(n[M],n[M+1]),h.push(o[w],o[w+1]),g.push(e.getRawIndex(_.idx1));break;case"+":var T=_.idx,k=v.dataDimsForPoint,L=i.dataToPoint([e.get(k[0],T),e.get(k[1],T)]);w=2*T,u.push(L[0],L[1]),d.push(y[w],y[w+1]);var D=Va(v,i,e,T);c.push(D[0],D[1]),h.push(o[w],o[w+1]),g.push(e.getRawIndex(T));break;case"-":b=!1}b&&(p.push(_),f.push(f.length))}f.sort((function(t,e){return g[t]-g[e]}));var P=u.length,O=bn(P),R=bn(P),z=bn(P),E=bn(P),N=[];for(x=0;x<f.length;x++){var B=f[x],V=2*x,G=2*B;O[V]=u[G],O[V+1]=u[G+1],R[V]=d[G],R[V+1]=d[G+1],z[V]=c[G],z[V+1]=c[G+1],E[V]=h[G],E[V+1]=h[G+1],N[x]=p[B]}return{current:O,next:R,stackedOnCurrent:z,stackedOnNext:E,status:N}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),c=d.current,h=d.stackedOnCurrent,p=d.next,f=d.stackedOnNext;if(i&&(c=Ja(d.current,n,i,r),h=Ja(d.stackedOnCurrent,n,i,r),p=Ja(d.next,n,i,r),f=Ja(d.stackedOnNext,n,i,r)),qa(c,p)>3e3||l&&qa(h,f)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:f})));s.shape.__points=d.current,s.shape.points=c;var g={shape:{points:p}};d.current!==c&&(g.shape.__points=d.next),s.stopAnimation(),Fe(s,g,u),l&&(l.setShape({points:c,stackedOnPoints:h}),l.stopAnimation(),Fe(l,{shape:{stackedOnPoints:f}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var v=[],m=d.status,y=0;y<m.length;y++){if("="===m[y].cmd){var x=t.getItemGraphicEl(m[y].idx1);x&&v.push({el:x,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<v.length;e++){var n=v[e].el,o=2*v[e].ptIdx;n.x=t[o],n.y=t[o+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,o){t.__temp&&(e.remove(t),n.setItemGraphicEl(o,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Ne);var ar={average:function(t){for(var e=0,n=0,o=0;o<t.length;o++)isNaN(t[o])||(e+=t[o],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,n=-1/0,o=0;o<t.length;o++){var i=t[o],a=Math.abs(i);a>e&&(e=a,n=i)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},rr=function(t){return Math.round(t.length/2)};var sr=Se.CMD;function lr(t,e){return Math.abs(t-e)<1e-5}function ur(t){var e,n,o,i,a,r,s,l,u,d,c,h,p,f,g,v,m,y,x,_,b,M,w,S,A=t.data,C=t.len(),I=[],T=0,k=0,L=0,D=0;function P(t,n){e&&e.length>2&&I.push(e),e=[t,n]}function O(t,n,o,i){lr(t,o)&&lr(n,i)||e.push(t,n,o,i,o,i)}for(var R=0;R<C;){var z=A[R++],E=1===R;switch(E&&(L=T=A[R],D=k=A[R+1],z!==sr.L&&z!==sr.C&&z!==sr.Q||(e=[L,D])),z){case sr.M:T=L=A[R++],k=D=A[R++],P(L,D);break;case sr.L:O(T,k,n=A[R++],o=A[R++]),T=n,k=o;break;case sr.C:e.push(A[R++],A[R++],A[R++],A[R++],T=A[R++],k=A[R++]);break;case sr.Q:n=A[R++],o=A[R++],i=A[R++],a=A[R++],e.push(T+2/3*(n-T),k+2/3*(o-k),i+2/3*(n-i),a+2/3*(o-a),i,a),T=i,k=a;break;case sr.A:var N=A[R++],B=A[R++],V=A[R++],G=A[R++],Z=A[R++],H=A[R++]+Z;R+=1;var j=!A[R++];n=Math.cos(Z)*V+N,o=Math.sin(Z)*G+B,E?P(L=n,D=o):O(T,k,n,o),T=Math.cos(H)*V+N,k=Math.sin(H)*G+B;for(var W=(j?-1:1)*Math.PI/2,F=Z;j?F>H:F<H;F+=W){var U=j?Math.max(F+W,H):Math.min(F+W,H);r=F,s=U,l=N,u=B,d=V,c=G,h=void 0,p=void 0,f=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,_=void 0,b=void 0,M=void 0,w=void 0,S=void 0,h=Math.abs(s-r),p=4*Math.tan(h/4)/3,f=s<r?-1:1,g=Math.cos(r),v=Math.sin(r),m=Math.cos(s),y=Math.sin(s),x=g*d+l,_=v*c+u,b=m*d+l,M=y*c+u,w=d*p*f,S=c*p*f,e.push(x-w*v,_+S*g,b+w*y,M-S*m,b,M)}break;case sr.R:L=T=A[R++],D=k=A[R++],n=L+A[R++],o=D+A[R++],P(n,D),O(n,D,n,o),O(n,o,L,o),O(L,o,L,D),O(L,D,n,D);break;case sr.Z:e&&O(T,k,L,D),T=L,k=D}}return e&&e.length>2&&I.push(e),I}function dr(t,e,n,o,i,a,r,s,l,u){if(lr(t,n)&&lr(e,o)&&lr(i,r)&&lr(a,s))l.push(r,s);else{var d=2/u,c=d*d,h=r-t,p=s-e,f=Math.sqrt(h*h+p*p);h/=f,p/=f;var g=n-t,v=o-e,m=i-r,y=a-s,x=g*g+v*v,_=m*m+y*y;if(x<c&&_<c)l.push(r,s);else{var b=h*g+p*v,M=-h*m-p*y;if(x-b*b<c&&b>=0&&_-M*M<c&&M>=0)l.push(r,s);else{var w=[],S=[];qe(t,n,i,r,.5,w),qe(e,o,a,s,.5,S),dr(w[0],S[0],w[1],S[1],w[2],S[2],w[3],S[3],l,u),dr(w[4],S[4],w[5],S[5],w[6],S[6],w[7],S[7],l,u)}}}}function cr(t,e,n){var o=t[e],i=t[1-e],a=Math.abs(o/i),r=Math.ceil(Math.sqrt(a*n)),s=Math.floor(n/r);0===s&&(s=1,r=n);for(var l=[],u=0;u<r;u++)l.push(s);var d=n-r*s;if(d>0)for(u=0;u<d;u++)l[u%r]+=1;return l}function hr(t,e,n){for(var o=t.r0,i=t.r,a=t.startAngle,r=t.endAngle,s=Math.abs(r-a),l=s*i,u=i-o,d=l>Math.abs(u),c=cr([l,u],d?0:1,e),h=(d?s:u)/c.length,p=0;p<c.length;p++)for(var f=(d?u:s)/c[p],g=0;g<c[p];g++){var v={};d?(v.startAngle=a+h*p,v.endAngle=a+h*(p+1),v.r0=o+f*g,v.r=o+f*(g+1)):(v.startAngle=a+f*g,v.endAngle=a+f*(g+1),v.r0=o+h*p,v.r=o+h*(p+1)),v.clockwise=t.clockwise,v.cx=t.cx,v.cy=t.cy,n.push(v)}}function pr(t,e,n,o){return t*o-n*e}function fr(t,e,n,o,i,a,r,s){var l=n-t,u=o-e,d=r-i,c=s-a,h=pr(d,c,l,u);if(Math.abs(h)<1e-6)return null;var p=pr(t-i,e-a,d,c)/h;return p<0||p>1?null:new xe(p*l+t,p*u+e)}function gr(t,e,n){var o=new xe;xe.sub(o,n,e),o.normalize();var i=new xe;return xe.sub(i,t,e),i.dot(o)}function vr(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function mr(t){var e=t.points,n=[],o=[];Ke(e,n,o);var i=new q(n[0],n[1],o[0]-n[0],o[1]-n[1]),a=i.width,r=i.height,s=i.x,l=i.y,u=new xe,d=new xe;return a>r?(u.x=d.x=s+a/2,u.y=l,d.y=l+r):(u.y=d.y=l+r/2,u.x=s,d.x=s+a),function(t,e,n){for(var o=t.length,i=[],a=0;a<o;a++){var r=t[a],s=t[(a+1)%o],l=fr(r[0],r[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&i.push({projPt:gr(l,e,n),pt:l,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort((function(t,e){return t.projPt-e.projPt}));var u=i[0],d=i[i.length-1];if(d.idx<u.idx){var c=u;u=d,d=c}var h=[u.pt.x,u.pt.y],p=[d.pt.x,d.pt.y],f=[h],g=[p];for(a=u.idx+1;a<=d.idx;a++)vr(f,t[a].slice());for(vr(f,p),vr(f,h),a=d.idx+1;a<=u.idx+o;a++)vr(g,t[a%o].slice());return vr(g,h),vr(g,p),[{points:f},{points:g}]}(e,u,d)}function yr(t,e,n,o){if(1===n)o.push(e);else{var i=Math.floor(n/2),a=t(e);yr(t,a[0],i,o),yr(t,a[1],n-i,o)}return o}function xr(t,e){var n,o=[],i=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var o=t.width,i=t.height,a=o>i,r=cr([o,i],a?0:1,e),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",d=a?"y":"x",c=t[s]/r.length,h=0;h<r.length;h++)for(var p=t[l]/r[h],f=0;f<r[h];f++){var g={};g[u]=h*c,g[d]=f*p,g[s]=c,g[l]=p,g.x+=t.x,g.y+=t.y,n.push(g)}}(i,e,o),n=ft;break;case"sector":hr(i,e,o),n=ke;break;case"circle":hr({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,o),n=ke;break;default:var a=t.getComputedTransform(),r=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=T(function(t,e){var n=ur(t),o=[];e=e||1;for(var i=0;i<n.length;i++){var a=n[i],r=[],s=a[0],l=a[1];r.push(s,l);for(var u=2;u<a.length;){var d=a[u++],c=a[u++],h=a[u++],p=a[u++],f=a[u++],g=a[u++];dr(s,l,d,c,h,p,f,g,r,e),s=f,l=g}o.push(r)}return o}(t.getUpdatedPathProxy(),r),(function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)})),l=s.length;if(0===l)yr(mr,{points:s[0]},e,o);else if(l===e)for(var u=0;u<l;u++)o.push({points:s[u]});else{var d=0,c=T(s,(function(t){var e=[],n=[];Ke(t,e,n);var o=(n[1]-e[1])*(n[0]-e[0]);return d+=o,{poly:t,area:o}}));c.sort((function(t,e){return e.area-t.area}));var h=e;for(u=0;u<l;u++){var p=c[u];if(h<=0)break;var f=u===l-1?h:Math.ceil(p.area/d*e);f<0||(yr(mr,{points:p.poly},f,o),h-=f)}}n=Ot}if(!n)return function(t,e){for(var n=[],o=0;o<e;o++)n.push(Je(t));return n}(t,e);var g,v,m=[];for(u=0;u<o.length;u++){var y=new n;y.setShape(o[u]),g=t,(v=y).setStyle(g.style),v.z=g.z,v.z2=g.z2,v.zlevel=g.zlevel,m.push(y)}return m}function _r(t,e){var n=t.length,o=e.length;if(n===o)return[t,e];for(var i=[],a=[],r=n<o?t:e,s=Math.min(n,o),l=Math.abs(o-n)/6,u=(s-2)/6,d=Math.ceil(l/u)+1,c=[r[0],r[1]],h=l,p=2;p<s;){var f=r[p-2],g=r[p-1],v=r[p++],m=r[p++],y=r[p++],x=r[p++],_=r[p++],b=r[p++];if(h<=0)c.push(v,m,y,x,_,b);else{for(var M=Math.min(h,d-1)+1,w=1;w<=M;w++){var S=w/M;qe(f,v,y,_,S,i),qe(g,m,x,b,S,a),f=i[3],g=a[3],c.push(i[1],a[1],i[2],a[2],f,g),v=i[5],m=a[5],y=i[6],x=a[6]}h-=M-1}}return r===t?[c,e]:[t,c]}function br(t,e){for(var n=t.length,o=t[n-2],i=t[n-1],a=[],r=0;r<e.length;)a[r++]=o,a[r++]=i;return a}function Mr(t){for(var e=0,n=0,o=0,i=t.length,a=0,r=i-2;a<i;r=a,a+=2){var s=t[r],l=t[r+1],u=t[a],d=t[a+1],c=s*d-u*l;e+=c,n+=(s+u)*c,o+=(l+d)*c}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,o/e/3,e]}function wr(t,e,n,o){for(var i=(t.length-2)/6,a=1/0,r=0,s=t.length,l=s-2,u=0;u<i;u++){for(var d=6*u,c=0,h=0;h<s;h+=2){var p=0===h?d:(d+h-2)%l+2,f=t[p]-n[0],g=t[p+1]-n[1],v=e[h]-o[0]-f,m=e[h+1]-o[1]-g;c+=v*v+m*m}c<a&&(a=c,r=u)}return r}function Sr(t){for(var e=[],n=t.length,o=0;o<n;o+=2)e[o]=t[n-o-2],e[o+1]=t[n-o-1];return e}function Ar(t){return t.__isCombineMorphing}var Cr="__mOriginal_";function Ir(t,e,n){var o=Cr+e,i=t[o]||t[e];t[o]||(t[o]=t[e]);var a=n.replace,r=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=a?a.apply(this,e):i.apply(this,e),r&&r.apply(this,e),t}}function Tr(t,e){var n=Cr+e;t[n]&&(t[e]=t[n],t[n]=null)}function kr(t,e){for(var n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;){var a=o[i],r=o[i+1];o[i++]=e[0]*a+e[2]*r+e[4],o[i++]=e[1]*a+e[3]*r+e[5]}}function Lr(t,e){var n=t.getUpdatedPathProxy(),o=e.getUpdatedPathProxy(),i=function(t,e){for(var n,o,i,a=[],r=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],d=void 0,c=void 0;l?u?(o=d=(n=_r(l,u))[0],i=c=n[1]):(c=br(i||l,l),d=l):(d=br(o||u,u),c=u),a.push(d),r.push(c)}return[a,r]}(ur(n),ur(o)),a=i[0],r=i[1],s=t.getComputedTransform(),l=e.getComputedTransform();s&&kr(a,s),l&&kr(r,l),Ir(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,o){for(var i,a=[],r=0;r<t.length;r++){var s=t[r],l=e[r],u=Mr(s),d=Mr(l);null==i&&(i=u[2]<0!=d[2]<0);var c=[],h=[],p=0,f=1/0,g=[],v=s.length;i&&(s=Sr(s));for(var m=6*wr(s,l,u,d),y=v-2,x=0;x<y;x+=2){var _=(m+x)%y+2;c[x+2]=s[_]-u[0],c[x+3]=s[_+1]-u[1]}if(c[0]=s[m]-u[0],c[1]=s[m+1]-u[1],n>0)for(var b=o/n,M=-o/2;M<=o/2;M+=b){var w=Math.sin(M),S=Math.cos(M),A=0;for(x=0;x<s.length;x+=2){var C=c[x],I=c[x+1],T=l[x]-d[0],k=l[x+1]-d[1],L=T*S-k*w,D=T*w+k*S;g[x]=L,g[x+1]=D;var P=L-C,O=D-I;A+=P*P+O*O}if(A<f){f=A,p=M;for(var R=0;R<g.length;R++)h[R]=g[R]}}else for(var z=0;z<v;z+=2)h[z]=l[z]-d[0],h[z+1]=l[z+1]-d[1];a.push({from:c,to:h,fromCp:u,toCp:d,rotation:-p})}return a}(a,r,10,Math.PI),d=[];Ir(e,"buildPath",{replace:function(t){for(var n=e.__morphT,o=1-n,i=[],a=0;a<u.length;a++){var r=u[a],s=r.from,l=r.to,c=r.rotation*n,h=r.fromCp,p=r.toCp,f=Math.sin(c),g=Math.cos(c);$e(i,h,p,n);for(var v=0;v<s.length;v+=2){var m=s[v],y=s[v+1],x=m*o+(w=l[v])*n,_=y*o+(S=l[v+1])*n;d[v]=x*g-_*f+i[0],d[v+1]=x*f+_*g+i[1]}var b=d[0],M=d[1];t.moveTo(b,M);for(v=2;v<s.length;){var w=d[v++],S=d[v++],A=d[v++],C=d[v++],I=d[v++],T=d[v++];b===w&&M===S&&A===I&&C===T?t.lineTo(I,T):t.bezierCurveTo(w,S,A,C,I,T),b=I,M=T}}}})}function Dr(t,e,n){if(!t||!e)return e;var o=n.done,i=n.during;return Lr(t,e),e.__morphT=0,e.animateTo({__morphT:1},j({during:function(t){e.dirtyShape(),i&&i(t)},done:function(){Tr(e,"buildPath"),Tr(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),o&&o()}},n)),e}function Pr(t,e,n,o,i,a){t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=a===o?0:Math.round(32767*(e-o)/(a-o));for(var r,s=0,l=32768;l>0;l/=2){var u=0,d=0;(t&l)>0&&(u=1),(e&l)>0&&(d=1),s+=l*l*(3*u^d),0===d&&(1===u&&(t=l-1-t,e=l-1-e),r=t,t=e,e=r)}return s}function Or(t){var e=1/0,n=1/0,o=-1/0,i=-1/0,a=T(t,(function(t){var a=t.getBoundingRect(),r=t.getComputedTransform(),s=a.x+a.width/2+(r?r[4]:0),l=a.y+a.height/2+(r?r[5]:0);return e=Math.min(s,e),n=Math.min(l,n),o=Math.max(s,o),i=Math.max(l,i),[s,l]}));return T(a,(function(a,r){return{cp:a,z:Pr(a[0],a[1],e,n,o,i),path:t[r]}})).sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function Rr(t){return xr(t.path,t.count)}function zr(t){return C(t[0])}function Er(t,e){for(var n=[],o=t.length,i=0;i<o;i++)n.push({one:t[i],many:[]});for(i=0;i<e.length;i++){var a=e[i].length,r=void 0;for(r=0;r<a;r++)n[r%o].many.push(e[i][r])}var s=0;for(i=o-1;i>=0;i--)if(!n[i].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}a=l.length;var u=Math.ceil(a/2);n[i].many=l.slice(u,a),n[s].many=l.slice(0,u),s++}return n}var Nr={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),o=0;o<t.count;o++){var i=Je(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function Br(t,e,n,o,i,a){if(t.length&&e.length){var r=en("update",o,i);if(r&&r.duration>0){var s,l,u=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},r);zr(t)&&(s=t,l=e),zr(e)&&(s=e,l=t);for(var c=s?s===t:t.length>e.length,h=s?Er(l,s):Er(c?e:t,[c?t:e]),p=0,f=0;f<h.length;f++)p+=h[f].many.length;var g=0;for(f=0;f<h.length;f++)v(h[f],c,g,p),g+=h[f].many.length}}function v(t,e,o,i,r){var s=t.many,l=t.one;if(1!==s.length||r)for(var c=j({dividePath:Nr[n],individualDelay:u&&function(t,e,n,a){return u(t+o,i)}},d),h=e?function(t,e,n){var o=[];!function t(e){for(var n=0;n<e.length;n++){var i=e[n];Ar(i)?t(i.childrenRef()):i instanceof Ce&&o.push(i)}}(t);var i=o.length;if(!i)return{fromIndividuals:[],toIndividuals:[],count:0};var a=(n.dividePath||Rr)({path:e,count:i});if(a.length!==i)return{fromIndividuals:[],toIndividuals:[],count:0};o=Or(o),a=Or(a);for(var r=n.done,s=n.during,l=n.individualDelay,u=new tn,d=0;d<i;d++){var c=o[d],h=a[d];h.parent=e,h.copyTransform(u),l||Lr(c,h)}function p(t){for(var e=0;e<a.length;e++)a[e].addSelfToZr(t)}function f(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Tr(e,"addSelfToZr"),Tr(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return a},Ir(e,"addSelfToZr",{after:function(t){p(t)}}),Ir(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<a.length;e++)a[e].removeSelfFromZr(t)}});var g=a.length;if(l){var v=g,m=function(){0==--v&&(f(),r&&r())};for(d=0;d<g;d++){var y=l?j({delay:(n.delay||0)+l(d,g,o[d],a[d]),done:m},n):n;Dr(o[d],a[d],y)}}else e.__morphT=0,e.animateTo({__morphT:1},j({during:function(t){for(var n=0;n<g;n++){var o=a[n];o.__morphT=e.__morphT,o.dirtyShape()}s&&s(t)},done:function(){f();for(var e=0;e<t.length;e++)Tr(t[e],"updateTransform");r&&r()}},n));return e.__zr&&p(e.__zr),{fromIndividuals:o,toIndividuals:a,count:g}}(s,l,c):function(t,e,n){var o=e.length,i=[],a=n.dividePath||Rr;if(Ar(t)){!function t(e){for(var n=0;n<e.length;n++){var o=e[n];Ar(o)?t(o.childrenRef()):o instanceof Ce&&i.push(o)}}(t.childrenRef());var r=i.length;if(r<o)for(var s=0,l=r;l<o;l++)i.push(Je(i[s++%r]));i.length=o}else{i=a({path:t,count:o});var u=t.getComputedTransform();for(l=0;l<i.length;l++)i[l].setLocalTransform(u);if(i.length!==o)return{fromIndividuals:[],toIndividuals:[],count:0}}i=Or(i),e=Or(e);var d=n.individualDelay;for(l=0;l<o;l++){var c=d?j({delay:(n.delay||0)+d(l,o,i[l],e[l])},n):n;Dr(i[l],e[l],c)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}(l,s,c),p=h.fromIndividuals,f=h.toIndividuals,g=p.length,m=0;m<g;m++){y=u?j({delay:u(m,g)},d):d;a(p[m],f[m],e?s[m]:t.one,e?t.one:s[m],y)}else{var y,x=e?s[0]:l,_=e?l:s[0];if(Ar(x))v({many:[x],one:_},!0,o,i,!0);else Dr(x,_,y=u?j({delay:u(o,i)},d):d),a(x,_,x,_,y)}}}function Vr(t){if(!t)return[];if(C(t)){for(var e=[],n=0;n<t.length;n++)e.push(Vr(t[n]));return e}var o=[];return t.traverse((function(t){t instanceof Ce&&!t.disableMorphing&&!t.invisible&&!t.ignore&&o.push(t)})),o}var Gr=1e4,Zr=0,Hr=1,jr=2,Wr=I();function Fr(t,e,n,o){var i=function(t,e){for(var n=t.dimensions,o=0;o<n.length;o++){var i=t.getDimensionInfo(n[o]);if(i&&0===i.otherDims[e])return n[o]}}(t,o?"itemChildGroupId":"itemGroupId");if(i){var a=function(t,e,n){var o=t.getDimensionInfo(n),i=o&&o.ordinalMeta;if(o){var a=t.get(o.name,e);return i&&i.categories[a]||a+""}}(t,e,i);return a}var r=t.getRawDataItem(e),s=o?"childGroupId":"groupId";return r&&r[s]?r[s]+"":o?void 0:n||t.getId(e)}function Ur(t){var e=[];return R(t,(function(t){var n=t.data,o=t.dataGroupId;if(!(n.count()>Gr))for(var i=n.getIndices(),a=0;a<i.length;a++)e.push({data:n,groupId:Fr(n,a,o,!1),childGroupId:Fr(n,a,o,!0),divide:t.divide,dataIndex:a})})),e}function Xr(t,e,n){t.traverse((function(t){t instanceof Ce&&Te(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function Yr(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function Qr(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function qr(t,e,n){var o=Ur(t),i=Ur(e);function a(t,e,n,o,i){(n||t)&&e.animateFrom({style:n&&n!==t?yt(yt({},n.style),t.style):t.style},i)}var r=!1,s=Zr,l=pt(),u=pt();o.forEach((function(t){t.groupId&&l.set(t.groupId,!0),t.childGroupId&&u.set(t.childGroupId,!0)}));for(var d=0;d<i.length;d++){var c=i[d].groupId;if(u.get(c)){s=Hr;break}var h=i[d].childGroupId;if(h&&l.get(h)){s=jr;break}}function p(t,e){return function(n){var o=n.data,i=n.dataIndex;return e?o.getId(i):t?s===Hr?n.childGroupId:n.groupId:s===jr?n.childGroupId:n.groupId}}var f=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++){var i=t[o],a=e[o];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(o,i),g={};if(!f)for(d=0;d<i.length;d++){var v=i[d],m=v.data.getItemGraphicEl(v.dataIndex);m&&(g[m.id]=!0)}function y(t,e){var n=o[e],s=i[t],l=s.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),d=s.data.getItemGraphicEl(s.dataIndex);u!==d?u&&g[u.id]||d&&(Qr(d),u?(Qr(u),Yr(u),r=!0,Br(Vr(u),Vr(d),s.divide,l,t,a)):Xr(d,l,t)):d&&function(t,e,n){var o=en("update",n,e);o&&t.traverse((function(t){if(t instanceof an){var e=rn(t);e&&t.animateFrom({style:e},o)}}))}(d,s.dataIndex,l)}new Lt(o,i,p(!0,f),p(!1,f),null,"multiple").update(y).updateManyToOne((function(t,e){var n=i[t],s=n.data,l=s.hostModel,u=s.getItemGraphicEl(n.dataIndex),d=Y(T(e,(function(t){return o[t].data.getItemGraphicEl(o[t].dataIndex)})),(function(t){return t&&t!==u&&!g[t.id]}));u&&(Qr(u),d.length?(R(d,(function(t){Qr(t),Yr(t)})),r=!0,Br(Vr(d),Vr(u),n.divide,l,t,a)):Xr(u,l,n.dataIndex))})).updateOneToMany((function(t,e){var n=o[e],s=n.data.getItemGraphicEl(n.dataIndex);if(!s||!g[s.id]){var l=Y(T(t,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==s})),u=i[t[0]].data.hostModel;l.length&&(R(l,(function(t){return Qr(t)})),s?(Qr(s),Yr(s),r=!0,Br(Vr(s),Vr(l),n.divide,u,t[0],a)):R(l,(function(e){return Xr(e,u,t[0])})))}})).updateManyToMany((function(t,e){new Lt(e,t,(function(t){return o[t].data.getId(o[t].dataIndex)}),(function(t){return i[t].data.getId(i[t].dataIndex)})).update((function(n,o){y(t[n],e[o])})).execute()})).execute(),r&&R(e,(function(t){var e=t.data.hostModel,o=e&&n.getViewOfSeriesModel(e),i=en("update",e,0);o&&e.isAnimationEnabled()&&i&&i.duration>0&&o.group.traverse((function(t){t instanceof Ce&&!t.animators.length&&t.animateFrom({style:{opacity:0}},i)}))}))}function Kr(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function Jr(t){return C(t)?t.sort().join(","):t}function $r(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function ts(t,e){for(var n=0;n<t.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}function es(){const n=i(a);r(s);const[C,I]=l.exports.useState([]),[T,k]=l.exports.useState(!1),{token:L}=u.useToken();d.useNavTo();const D=l.exports.useMemo((()=>C.map((n=>({id:n.id,title:t(c,{placement:"left",content:t("div",{style:{width:"20rem"},children:t(b,{user:n})}),children:t("div",{style:{padding:"0.5rem 0"},children:h(e,{children:[t("span",{children:t(M,{user:n})}),t("span",{children:n.name})]})})}),score:n.score||0})))),[C]);l.exports.useEffect((()=>{n("none"),P("Hot"),O()}),[]);const P=async t=>{try{const e=p[`get${t}RankApi`],n=await e();I(n.data.data.users||[])}catch{}},O=async()=>{await yn.get("/percentage",o())},R=[{title:"在线评测",content:"挑战自己，提升编程技能",icon:t(f,{style:{color:L.colorPrimary,fontSize:"2rem"}}),path:"/problemset/all"},{title:"竞赛切磋",content:"参与竞赛，展示你的实力",icon:t(g,{style:{color:L.colorPrimary,fontSize:"2rem"}}),path:"/competition/common/set"},{title:"即时通讯",content:"与志同道合的编程爱好者交流",icon:t(v,{style:{color:L.colorPrimary,fontSize:"2rem"}}),path:"/profile/group"},{title:"知识分享",content:"分享经验，造福他人",icon:t(m,{style:{color:L.colorPrimary,fontSize:"2rem"}}),path:"/community/articleset"}];return h("div",{className:cn.homeRoot,children:[h("div",{className:cn.left,children:[h("header",{className:cn.header,children:[t("h1",{children:"DOJ - 编程学习平台"}),t("p",{children:"解锁编程的奥秘，与世界分享你的想法"}),t("img",{})]}),h("section",{className:"w-full",children:[t("div",{className:cn.navCard,children:R.map(((e,n)=>t("div",{className:cn.item,children:t(x,{title:e.title,content:e.content,icon:e.icon,path:e.path})},n)))}),t("div",{className:cn.languages,children:w.defaultLanguageList.map(((e,n)=>t("span",{children:e.label},n)))}),t("div",{className:cn.ojPlatform,children:t(mn,{})})]}),t("footer",{})]}),t("div",{className:cn.right,children:t("div",{className:cn.rankBox,children:t(_,{title:"今日排行",rankList:D,icon:t(y,{style:{color:"#fadb14",marginRight:"4px"}}),onClick:()=>{},extra:t(S,{size:"small",variant:"filled",style:{fontSize:"0.75rem",width:"7rem"},defaultValue:"Hot",onChange:t=>{P(t)},options:[{label:"热度",value:"Hot"},{label:"竞赛分",value:"Score"},{label:"点赞",value:"Like"},{label:"收藏",value:"Collect"},{label:"AC",value:"Ac"},{label:"访问量",value:"Visit"}]})})})}),t(A,{width:"90vw",open:T,onCancel:()=>k(!1),footer:[],afterOpenChange:t=>t&&(()=>{const t=Array.from({length:100},((t,e)=>e)),e=t.map((()=>Math.floor(21*Math.random())+40)),n={title:{text:"近100分钟主容器心跳次数监测"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t,boundaryGap:!1,name:"时间（分钟）"},yAxis:{type:"value",name:"心跳次数",min:0,max:60},series:[{name:"心跳次数",data:e,type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(255, 70, 131)"},areaStyle:{color:new Ue(0,0,0,1,[{offset:0,color:"rgb(255, 158, 68)"},{offset:1,color:"rgb(255, 70, 131)"}])}}]},o=sn(document.getElementById("lineChartBox"));n&&o.setOption(n)})(),children:t("div",{id:"lineChartBox",style:{height:"300px"}})})]})}St([ln,function(t){t.registerComponentModel(Li),t.registerComponentView(Di),Ti("saveAsImage",Pi),Ti("magicType",Ni),Ti("dataView",Fi),Ti("dataZoom",ga),Ti("restore",qi),St(Ai)},un,function(t){St(uo),St(At)},function(t){St(Ia),St(Ea)},function(t){var e;t.registerChartView(ir),t.registerSeriesModel(Na),t.registerLayout((e=!0,{seriesType:"line",plan:Qe(),reset:function(t){var n=t.getData(),o=t.coordinateSystem,i=t.pipelineContext,a=e||i.large;if(o){var r=T(o.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=r.length,l=n.getCalculationInfo("stackResultDimension");Me(n,r[0])&&(r[0]=l),Me(n,r[1])&&(r[1]=l);var u=n.getStore(),d=n.getDimensionIndex(r[0]),c=n.getDimensionIndex(r[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,i=a&&bn(n*s),r=[],l=[],h=t.start,p=0;h<t.end;h++){var f=void 0;if(1===s){var g=u.get(d,h);f=o.dataToPoint(g,null,l)}else r[0]=u.get(d,h),r[1]=u.get(c,h),f=o.dataToPoint(r,null,l);a?(i[p++]=f[0],i[p++]=f[1]):e.setItemLayout(h,f.slice())}a&&e.setLayout("points",i)}}}}})),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t){return{seriesType:t,reset:function(t,e,n){var o=t.getData(),i=t.get("sampling"),a=t.coordinateSystem,r=o.count();if(r>10&&"cartesian2d"===a.type&&i){var s=a.getBaseAxis(),l=a.getOtherAxis(s),u=s.getExtent(),d=n.getDevicePixelRatio(),c=Math.abs(u[1]-u[0])*(d||1),h=Math.round(r/c);if(isFinite(h)&&h>1){"lttb"===i&&t.setData(o.lttbDownSample(o.mapDimension(l.dim),1/h));var p=void 0;qt(i)?p=ar[i]:L(i)&&(p=i),p&&t.setData(o.downSample(o.mapDimension(l.dim),1/h,p,rr))}}}}}("line"))},dn,function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){R(nn(n.seriesTransition),(function(t){R(nn(t.to),(function(t){for(var e=n.updatedSeries,o=0;o<e.length;o++)(null!=t.seriesIndex&&t.seriesIndex===e[o].seriesIndex||null!=t.seriesId&&t.seriesId===e[o].id)&&(e[o][on]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var o=Wr(e);if(o.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)R(nn(i),(function(t){!function(t,e,n,o){var i=[],a=[];R(nn(t.from),(function(t){var n=ts(e.oldSeries,t);n>=0&&i.push({dataGroupId:e.oldDataGroupIds[n],data:e.oldData[n],divide:$r(e.oldData[n]),groupIdDim:t.dimension})})),R(nn(t.to),(function(t){var o=ts(n.updatedSeries,t);if(o>=0){var i=n.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:i,divide:$r(i),groupIdDim:t.dimension})}})),i.length>0&&a.length>0&&qr(i,a,o)}(t,o,n,e)}));else{var a=function(t,e){var n=pt(),o=pt(),i=pt();return R(t.oldSeries,(function(e,n){var a=t.oldDataGroupIds[n],r=t.oldData[n],s=Kr(e),l=Jr(s);o.set(l,{dataGroupId:a,data:r}),C(s)&&R(s,(function(t){i.set(t,{key:l,dataGroupId:a,data:r})}))})),R(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),a=t.getData(),r=Kr(t),s=Jr(r),l=o.get(s);if(l)n.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:$r(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:$r(a),data:a}]});else if(C(r)){var u=[];R(r,(function(t){var e=o.get(t);e.data&&u.push({dataGroupId:e.dataGroupId,divide:$r(e.data),data:e.data})})),u.length&&n.set(s,{oldSeries:u,newSeries:[{dataGroupId:e,data:a,divide:$r(a)}]})}else{var d=i.get(r);if(d){var c=n.get(d.key);c||(c={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:$r(d.data)}],newSeries:[]},n.set(d.key,c)),c.newSeries.push({dataGroupId:e,data:a,divide:$r(a)})}}}})),n}(o,n);R(a.keys(),(function(t){var n=a.get(t);qr(n.oldSeries,n.newSeries,e)}))}R(n.updatedSeries,(function(t){t[on]&&(t[on]=!1)}))}for(var r=t.getSeries(),s=o.oldSeries=[],l=o.oldDataGroupIds=[],u=o.oldData=[],d=0;d<r.length;d++){var c=r[d].getData();c.count()<Gr&&(s.push(r[d]),l.push(r[d].get("dataGroupId")),u.push(c))}}))}]);export{es as default};
