import{d as a,i as e,cb as t,m as s,_ as o,bG as i,t as r,a as l,j as c,M as d,bE as m}from"./index.5c064301.js";import{s as n}from"./style.module.c3d4c087.js";import{H as p}from"./GeneralRank.878d63d9.js";import{j as f,s as u}from"./problem.1496b552.js";import{b,c as j}from"./topic.eb4e8577.js";import{g as h,a as x}from"./form.7b4dfe6a.js";import{C as y}from"./index.9225dd62.js";import{S as v}from"./index.edecf03d.js";import"./Skeleton.ed2cb458.js";import"./index.0ec24622.js";import"./Pagination.855f4d50.js";import"./context.aa52cc0c.js";import"./index.a45f76a6.js";import"./List.6e377c69.js";import"./PurePanel.bec90387.js";import"./index.4e624168.js";import"./useLocale.07149357.js";import"./CheckOutlined.363c4795.js";import"./row.e491f7a6.js";import"./PlusOutlined.787b1bb7.js";import"./Dropdown.acaf0b68.js";const k=()=>{var k,g;a(e);const N=a(t),S=s.useNavTo(),[P,C]=o.exports.useState([]),[L,$]=o.exports.useState((null==(k=i.getQuerys(location.search))?void 0:k.text)||""),{token:E}=r.useToken(),G=o.exports.useMemo((()=>i.getPathArray(N)[1]),[N]);o.exports.useEffect((()=>{M(G)}),[G]);const M=async a=>{let e=[];try{switch(a){case"all":const t=(await f()).data.data.problems;for(let i of t){const t=(await u(i.id)).data.data;e.push({title:l("div",{style:{padding:"0.5rem 0"},children:t.problem.title}),score:i.Score,type:a,id:i.id})}break;case"topic":const s=(await b()).data.data.topics;for(let i of s){const t=(await j(i.id)).data.data;e.push({title:t.topic.title,score:i.Score,type:a,id:i.id})}break;case"form":const o=(await h()).data.data.forms;for(let i of o){const t=(await x(i.id)).data.data;e.push({title:t.form.title,score:i.Score,type:a,id:i.id})}}}catch{}C(e)};return c("div",{className:n.root,children:[l("div",{className:n.left,children:l(y,{title:c("div",{className:n.title,children:[l(d,{color:""===L?"":E.colorPrimary,href:""+(""===L?"recommand":"search"),size:2}),l("span",{className:"ml-2",children:""===L?`${null==(g=w.find((a=>a.value===G)))?void 0:g.label}推荐`:`搜索结果：${L}`})]}),extra:l(v,{defaultValue:G,options:w,onChange:a=>{S(`/problemset/${a}`)}}),className:n.body,children:l(m,{})})}),l("div",{className:n.right,children:l(p,{icon:"fire",rankList:P,onClick:a=>{}})})]})},w=[{key:"all",value:"all",label:"题目"},{key:"topic",value:"topic",label:"题单"},{key:"form",value:"form",label:"表单"}];export{k as default};
