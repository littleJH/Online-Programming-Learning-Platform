import{_ as e,a as l,A as n,d as a,n as s,j as i,k as r,B as t,D as c,S as o,l as d}from"./index.5c064301.js";import{M as m}from"./MyAvatar.22457dcc.js";import{c as p}from"./message.856d7a68.js";import{W as h,M as u}from"./WomanOutlined.2213c8b5.js";import{R as g,C as v}from"./row.e491f7a6.js";import{S as f}from"./index.77ceaa6f.js";import{M as y}from"./index.6891d53f.js";import{I as x}from"./index.7d75d2c2.js";const S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};var k=function(e,a){return l(n,{...e,ref:a,icon:S})};const z=e.exports.forwardRef(k);const j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};var A=function(e,a){return l(n,{...e,ref:a,icon:j})};const L=e.exports.forwardRef(A),b=n=>{const{user:S}=n,k=a(s),[j,A]=e.exports.useState(!1),[b,M]=e.exports.useState(""),[N,_]=e.exports.useState(!1);return i("div",{className:r.userinfo,children:[i("div",{className:r.header,children:[l("div",{children:l(m,{user:S,size:64})}),i("p",{children:[i("span",{className:r.name,children:["@",S.name]}),(null==S?void 0:S.address)&&i("span",{children:[" · ",S.address]}),l("span",{style:{marginLeft:"1rem"},className:r.sex,children:S.sex?l(h,{style:{color:"pink"}}):l(u,{style:{color:"skyblue"}})})]}),i("p",{className:r.email,children:[l("span",{className:r.icon,children:l(L,{})}),l("span",{children:S.email})]}),(null==S?void 0:S.blog)&&i("p",{children:[l("span",{className:r.icon,children:l(z,{})}),l("span",{children:l("a",{href:S.blog,target:"_blank",children:S.blog})})]}),(null==S?void 0:S.res_long)&&i("p",{children:[l("span",{className:r.icon,children:l(t,{})}),l("span",{children:S.res_long})]})]}),l(c,{}),i(g,{children:[l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"权限等级",value:String(null==S?void 0:S.level)})}),l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"竞赛分数",value:String(null==S?void 0:S.score)})}),l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"被游览数",value:String(null==S?void 0:S.visit_num)})})]}),i(g,{children:[l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"收到点赞",value:String(null==S?void 0:S.like_num)})}),l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"收到收藏",value:String(null==S?void 0:S.collect_num)})}),l(v,{style:{textAlign:"center"},span:8,children:l(f,{title:"收到点踩",value:String(null==S?void 0:S.unlike_num)})})]}),l(c,{}),i(o,{align:"end",children:[l(d,{type:"primary",size:"small",onClick:()=>A(!0),children:"给ta留言"}),l(d,{type:"primary",size:"small",children:"发送邮件"}),l(d,{type:"primary",size:"small",children:"加为好友"})]}),l(y,{title:`给@${S.name}留言`,open:j,onCancel:()=>A(!1),footer:[l(d,{onClick:()=>A(!1),children:"取消"},1),l(d,{loading:N,type:"primary",onClick:()=>(async()=>{try{_(!0);const e=await p(S.id,b);k&&(200===e.data.code?k.success({message:`给@${S.name}留言成功`,description:`留言信息：${b}`}):k.error({message:`给@${S.name}留言失败`,description:e.data.msg}))}finally{_(!1)}})(),children:"留言"},2)],children:l(x.TextArea,{rows:4,value:b,onChange:e=>M(e.target.value)})})]})};export{b as U};
