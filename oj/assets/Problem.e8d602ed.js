import{m as e,d as t,n as o,e as s,_ as a,a as i}from"./index.5c064301.js";import{g as r,d as p}from"./problem.1496b552.js";import{P as m}from"./ProblemTable.523975e8.js";import"./record.df22aa8c.js";import"./progress.2cf02846.js";import"./CheckOutlined.363c4795.js";import"./MyTag.a4f82d92.js";import"./useClosable.e9e9bb76.js";import"./context.aa52cc0c.js";import"./GeneralTable.8195648c.js";import"./Table.f08b7a7b.js";import"./List.6e377c69.js";import"./index.a45f76a6.js";import"./PurePanel.bec90387.js";import"./index.4e624168.js";import"./useLocale.07149357.js";import"./index.ec27075f.js";import"./index.4d9ca8d6.js";import"./index.699f9875.js";import"./Dropdown.acaf0b68.js";import"./Pagination.855f4d50.js";import"./index.7d75d2c2.js";import"./BaseInput.01760c9b.js";import"./style.module.af136287.js";import"./Skeleton.ed2cb458.js";import"./index.bad11826.js";import"./ActionButton.76c967e9.js";const c=()=>{const c=e.useNavTo(),d=t(o),n=t(s),[l,j]=a.exports.useState([]),[b,u]=a.exports.useState(0),[f,x]=a.exports.useState(!1),[g,h]=a.exports.useState(1),[S,P]=a.exports.useState(20);a.exports.useEffect((()=>{T(g,S)}),[]);const T=(e,t)=>{n&&(x(!1),r(n.id,e,t).then((e=>{u(e.data.data.total),j(e.data.data.problems)})))};return i("div",{children:i(m,{mode:"action",problemList:l,pageNum:g,pageSize:S,total:b,fetchDone:f,setFetchDone:x,onPageChange:(e,t)=>{h(e),P(t),T(e,t)},onLineClick:e=>{const t=e.key;c(`/problemdetail/${t}/description`)},onDelete:e=>{const t=l[e];p(t.id).then((o=>{200===o.data.code&&(d&&d.success({message:`题目“${t.title}”已删除`}),u((e=>e-1)),j((t=>[...t.slice(0,e),...t.slice(e+1)])))}))},onUpdate:e=>{c(`/creation/problem?id=${l[e].id}`)}})})};export{c as default};
