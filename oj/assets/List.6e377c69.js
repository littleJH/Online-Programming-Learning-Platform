import{_ as e,H as t,L as r,a as n,aT as o,j as i,v as u,y as s,aP as c,ba as a,b7 as l,bg as f,Z as v,x as d,N as h,aw as p,bh as g}from"./index.5c064301.js";var x=e.exports.forwardRef((function(e,s){var c=e.height,a=e.offsetY,l=e.offsetX,f=e.children,v=e.prefixCls,d=e.onInnerResize,h=e.innerProps,p=e.rtl,g=e.extra,x={},m={display:"flex",flexDirection:"column"};return void 0!==a&&(x={height:c,position:"relative",overflow:"hidden"},m=t(t({},m),{},r(r(r(r(r({transform:"translateY(".concat(a,"px)")},p?"marginRight":"marginLeft",-l),"position","absolute"),"left",0),"right",0),"top",0))),n("div",{style:x,children:n(o,{onResize:function(e){e.offsetHeight&&d&&d()},children:i("div",{style:m,className:u(r({},"".concat(v,"-holder-inner"),v)),ref:s,...h,children:[f,g]})})})}));function m(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]}x.displayName="Filler";var b=e.exports.forwardRef((function(o,i){var a=o.prefixCls,l=o.rtl,f=o.scrollOffset,v=o.scrollRange,d=o.onStartMove,h=o.onStopMove,p=o.onScroll,g=o.horizontal,x=o.spinSize,b=o.containerSize,S=o.style,R=o.thumbStyle,w=e.exports.useState(!1),M=s(w,2),y=M[0],E=M[1],L=e.exports.useState(null),H=s(L,2),T=H[0],z=H[1],N=e.exports.useState(null),Y=s(N,2),D=Y[0],k=Y[1],C=!l,I=e.exports.useRef(),P=e.exports.useRef(),j=e.exports.useState(!1),A=s(j,2),O=A[0],X=A[1],_=e.exports.useRef(),K=function(){clearTimeout(_.current),X(!0),_.current=setTimeout((function(){X(!1)}),3e3)},B=v-b||0,V=b-x||0,W=e.exports.useMemo((function(){return 0===f||0===B?0:f/B*V}),[f,B,V]),F=e.exports.useRef({top:W,dragging:y,pageY:T,startTop:D});F.current={top:W,dragging:y,pageY:T,startTop:D};var Z=function(e){E(!0),z(m(e,g)),k(F.current.top),d(),e.stopPropagation(),e.preventDefault()};e.exports.useEffect((function(){var e=function(e){e.preventDefault()},t=I.current,r=P.current;return t.addEventListener("touchstart",e),r.addEventListener("touchstart",Z),function(){t.removeEventListener("touchstart",e),r.removeEventListener("touchstart",Z)}}),[]);var q=e.exports.useRef();q.current=B;var G=e.exports.useRef();G.current=V,e.exports.useEffect((function(){if(y){var e,t=function(t){var r=F.current,n=r.dragging,o=r.pageY,i=r.startTop;if(c.cancel(e),n){var u=m(t,g)-o,s=i;!C&&g?s-=u:s+=u;var a=q.current,l=G.current,f=l?s/l:0,v=Math.ceil(f*a);v=Math.max(v,0),v=Math.min(v,a),e=c((function(){p(v,g)}))}},r=function(){E(!1),h()};return window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",r),window.addEventListener("touchend",r),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),c.cancel(e)}}}),[y]),e.exports.useEffect((function(){K()}),[f]),e.exports.useImperativeHandle(i,(function(){return{delayHidden:K}}));var J="".concat(a,"-scrollbar"),Q={position:"absolute",visibility:O?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return g?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=x,C?U.left=W:U.right=W):(Q.width=8,Q.top=0,Q.bottom=0,C?Q.right=0:Q.left=0,U.width="100%",U.height=x,U.top=W),n("div",{ref:I,className:u(J,r(r(r({},"".concat(J,"-horizontal"),g),"".concat(J,"-vertical"),!g),"".concat(J,"-visible"),O)),style:t(t({},Q),S),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:K,children:n("div",{ref:P,className:u("".concat(J,"-thumb"),r({},"".concat(J,"-thumb-moving"),y)),style:t(t({},U),R),onMouseDown:Z})})}));function S(t){var r=t.children,n=t.setRef,o=e.exports.useCallback((function(e){n(e)}),[]);return e.exports.cloneElement(r,{ref:o})}var R=function(){function e(){l(this,e),r(this,"maps",void 0),r(this,"id",0),this.maps=Object.create(null)}return a(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),e}();var w=10;function M(t,r,n){var o=e.exports.useState(t),i=s(o,2),u=i[0],c=i[1],a=e.exports.useState(null),l=s(a,2),f=l[0],v=l[1];return e.exports.useEffect((function(){var e=function(e,t,r){var n,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(n=e,o=t):(n=t,o=e);var s={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?r(e):s}for(var a=null,l=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(n[f]);if(v!==c(o[f])){a=f,l=l||v!==c(o[f+1]);break}}return null===a?null:{index:a,multiple:l}}(u||[],t||[],r);void 0!==(null==e?void 0:e.index)&&(null==n||n(e.index),v(t[e.index])),c(t)}),[t]),[f]}var y="object"===("undefined"==typeof navigator?"undefined":d(navigator))&&/Firefox/i.test(navigator.userAgent);const E=function(t,r){var n=e.exports.useRef(!1),o=e.exports.useRef(null);var i=e.exports.useRef({top:t,bottom:r});return i.current.top=t,i.current.bottom=r,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e<0&&i.current.top||e>0&&i.current.bottom;return t&&r?(clearTimeout(o.current),n.current=!1):r&&!n.current||(clearTimeout(o.current),n.current=!0,o.current=setTimeout((function(){n.current=!1}),50)),!n.current&&r}};function L(t,r,n,o,i){var u=e.exports.useRef(0),s=e.exports.useRef(null),a=e.exports.useRef(null),l=e.exports.useRef(!1),f=E(r,n);var v=e.exports.useRef(null),d=e.exports.useRef(null);return[function(e){if(t){c.cancel(d.current),d.current=c((function(){v.current=null}),2);var r=e.deltaX,n=e.deltaY,h=e.shiftKey,p=r,g=n;("sx"===v.current||!v.current&&h&&n&&!r)&&(p=n,g=0,v.current="sx");var x=Math.abs(p),m=Math.abs(g);null===v.current&&(v.current=o&&x>m?"x":"y"),"y"===v.current?function(e,t){c.cancel(s.current),u.current+=t,a.current=t,f(t)||(y||e.preventDefault(),s.current=c((function(){var e=l.current?10:1;i(u.current*e),u.current=0})))}(e,g):function(e,t){i(t,!0),y||e.preventDefault()}(e,p)}},function(e){t&&(l.current=e.detail===a.current)}]}var H=14/15;var T=20;function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,T),Math.floor(t)}var N=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Y=[],D={overflowY:"auto",overflowAnchor:"none"};function k(a,l){var m=a.prefixCls,y=void 0===m?"rc-virtual-list":m,T=a.className,k=a.height,C=a.itemHeight,I=a.fullHeight,P=void 0===I||I,j=a.style,A=a.data,O=a.children,X=a.itemKey,_=a.virtual,K=a.direction,B=a.scrollWidth,V=a.component,W=void 0===V?"div":V,F=a.onScroll,Z=a.onVirtualScroll,q=a.onVisibleChange,G=a.innerProps,J=a.extraRender,Q=a.styles,U=h(a,N),$=!(!1===_||!k||!C),ee=$&&A&&(C*A.length>k||!!B),te="rtl"===K,re=u(y,r({},"".concat(y,"-rtl"),te),T),ne=A||Y,oe=e.exports.useRef(),ie=e.exports.useRef(),ue=e.exports.useState(0),se=s(ue,2),ce=se[0],ae=se[1],le=e.exports.useState(0),fe=s(le,2),ve=fe[0],de=fe[1],he=e.exports.useState(!1),pe=s(he,2),ge=pe[0],xe=pe[1],me=function(){xe(!0)},be=function(){xe(!1)},Se=e.exports.useCallback((function(e){return"function"==typeof X?X(e):null==e?void 0:e[X]}),[X]),Re={getKey:Se};function we(e){ae((function(t){var r=function(e){var t=e;Number.isNaN(Ze.current)||(t=Math.min(t,Ze.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return oe.current.scrollTop=r,r}))}var Me=e.exports.useRef({start:0,end:ne.length}),ye=e.exports.useRef(),Ee=M(ne,Se),Le=s(Ee,1)[0];ye.current=Le;var He=function(t,r,n){var o=e.exports.useState(0),i=s(o,2),u=i[0],a=i[1],l=e.exports.useRef(new Map),v=e.exports.useRef(new R),d=e.exports.useRef();function h(){c.cancel(d.current)}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h();var t=function(){l.current.forEach((function(e,t){if(e&&e.offsetParent){var r=f(e),n=r.offsetHeight;v.current.get(t)!==n&&v.current.set(t,r.offsetHeight)}})),a((function(e){return e+1}))};e?t():d.current=c(t)}return e.exports.useEffect((function(){return h}),[]),[function(e,o){var i=t(e),u=l.current.get(i);o?(l.current.set(i,o),p()):l.current.delete(i),!u!=!o&&(o?null==r||r(e):null==n||n(e))},p,v.current,u]}(Se,null,null),Te=s(He,4),ze=Te[0],Ne=Te[1],Ye=Te[2],De=Te[3],ke=e.exports.useMemo((function(){if(!$)return{scrollHeight:void 0,start:0,end:ne.length-1,offset:void 0};var e;if(!ee)return{scrollHeight:(null===(e=ie.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:ne.length-1,offset:void 0};for(var t,r,n,o=0,i=ne.length,u=0;u<i;u+=1){var s=ne[u],c=Se(s),a=Ye.get(c),l=o+(void 0===a?C:a);l>=ce&&void 0===t&&(t=u,r=o),l>ce+k&&void 0===n&&(n=u),o=l}return void 0===t&&(t=0,r=0,n=Math.ceil(k/C)),void 0===n&&(n=ne.length-1),{scrollHeight:o,start:t,end:n=Math.min(n+1,ne.length-1),offset:r}}),[ee,$,ce,ne,De,k]),Ce=ke.scrollHeight,Ie=ke.start,Pe=ke.end,je=ke.offset;Me.current.start=Ie,Me.current.end=Pe;var Ae=e.exports.useState({width:0,height:k}),Oe=s(Ae,2),Xe=Oe[0],_e=Oe[1],Ke=e.exports.useRef(),Be=e.exports.useRef(),Ve=e.exports.useMemo((function(){return z(Xe.width,B)}),[Xe.width,B]),We=e.exports.useMemo((function(){return z(Xe.height,Ce)}),[Xe.height,Ce]),Fe=Ce-k,Ze=e.exports.useRef(Fe);Ze.current=Fe;var qe=ce<=0,Ge=ce>=Fe,Je=E(qe,Ge),Qe=function(){return{x:te?-ve:ve,y:ce}},Ue=e.exports.useRef(Qe()),$e=p((function(){if(Z){var e=Qe();Ue.current.x===e.x&&Ue.current.y===e.y||(Z(e),Ue.current=e)}}));function et(e,t){var r=e;t?(g.exports.flushSync((function(){de(r)})),$e()):we(r)}var tt=function(e){var t=e,r=B-Xe.width;return t=Math.max(t,0),t=Math.min(t,r)},rt=p((function(e,t){t?(g.exports.flushSync((function(){de((function(t){return tt(t+(te?-e:e))}))})),$e()):we((function(t){return t+e}))})),nt=L($,qe,Ge,!!B,rt),ot=s(nt,2),it=ot[0],ut=ot[1];!function(t,r,n){var o,i=e.exports.useRef(!1),u=e.exports.useRef(0),s=e.exports.useRef(null),c=e.exports.useRef(null),a=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=u.current-t;u.current=t,n(r)&&e.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){(!n(r*=H,!0)||Math.abs(r)<=.1)&&clearInterval(c.current)}),16)}},l=function(){i.current=!1,o()},f=function(e){o(),1!==e.touches.length||i.current||(i.current=!0,u.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",a),s.current.addEventListener("touchend",l))};o=function(){s.current&&(s.current.removeEventListener("touchmove",a),s.current.removeEventListener("touchend",l))},v((function(){return t&&r.current.addEventListener("touchstart",f),function(){var e;null===(e=r.current)||void 0===e||e.removeEventListener("touchstart",f),o(),clearInterval(c.current)}}),[t])}($,oe,(function(e,t){return!Je(e,t)&&(it({preventDefault:function(){},deltaY:e}),!0)})),v((function(){function e(e){$&&e.preventDefault()}var t=oe.current;return t.addEventListener("wheel",it),t.addEventListener("DOMMouseScroll",ut),t.addEventListener("MozMousePixelScroll",e),function(){t.removeEventListener("wheel",it),t.removeEventListener("DOMMouseScroll",ut),t.removeEventListener("MozMousePixelScroll",e)}}),[$]),v((function(){B&&de((function(e){return tt(e)}))}),[Xe.width,B]);var st=function(){var e,t;null===(e=Ke.current)||void 0===e||e.delayHidden(),null===(t=Be.current)||void 0===t||t.delayHidden()},ct=function(r,n,o,i,u,a,l,f){var h=e.exports.useRef(),p=e.exports.useState(null),g=s(p,2),x=g[0],m=g[1];return v((function(){if(x&&x.times<w){if(!r.current)return void m((function(e){return t({},e)}));a();var e=x.targetAlign,s=x.originAlign,c=x.index,f=x.offset,v=r.current.clientHeight,d=!1,h=e,p=null;if(v){for(var g=e||s,b=0,S=0,R=0,M=Math.min(n.length-1,c),y=0;y<=M;y+=1){var E=u(n[y]);S=b;var L=o.get(E);b=R=S+(void 0===L?i:L)}for(var H="top"===g?f:v-f,T=M;T>=0;T-=1){var z=u(n[T]),N=o.get(z);if(void 0===N){d=!0;break}if((H-=N)<=0)break}switch(g){case"top":p=S-f;break;case"bottom":p=R-v+f;break;default:var Y=r.current.scrollTop;S<Y?h="top":R>Y+v&&(h="bottom")}null!==p&&l(p),p!==x.lastTop&&(d=!0)}d&&m(t(t({},x),{},{times:x.times+1,targetAlign:h,lastTop:p}))}}),[x,r.current]),function(e){if(null!=e){if(c.cancel(h.current),"number"==typeof e)l(e);else if(e&&"object"===d(e)){var t,r=e.align;t="index"in e?e.index:n.findIndex((function(t){return u(t)===e.key}));var o=e.offset;m({times:0,index:t,offset:void 0===o?0:o,originAlign:r})}}else f()}}(oe,ne,Ye,C,Se,(function(){return Ne(!0)}),we,st);e.exports.useImperativeHandle(l,(function(){return{getScrollInfo:Qe,scrollTo:function(e){var t;(t=e)&&"object"===d(t)&&("left"in t||"top"in t)?(void 0!==e.left&&de(tt(e.left)),ct(e.top)):ct(e)}}})),v((function(){if(q){var e=ne.slice(Ie,Pe+1);q(e,ne)}}),[Ie,Pe,ne]);var at=function(t,r,n,o){var i=e.exports.useMemo((function(){return[new Map,[]]}),[t,n.id,o]),u=s(i,2),c=u[0],a=u[1];return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=c.get(e),s=c.get(i);if(void 0===u||void 0===s)for(var l=t.length,f=a.length;f<l;f+=1){var v,d=t[f],h=r(d);c.set(h,f);var p=null!==(v=n.get(h))&&void 0!==v?v:o;if(a[f]=(a[f-1]||0)+p,h===e&&(u=f),h===i&&(s=f),void 0!==u&&void 0!==s)break}return{top:a[u-1]||0,bottom:a[s]}}}(ne,Se,Ye,C),lt=null==J?void 0:J({start:Ie,end:Pe,virtual:ee,offsetX:ve,offsetY:je,rtl:te,getSize:at}),ft=function(e,t,r,o,i,u,s){var c=s.getKey;return e.slice(t,r+1).map((function(e,r){var s=u(e,t+r,{style:{width:o}}),a=c(e);return n(S,{setRef:function(t){return i(e,t)},children:s},a)}))}(ne,Ie,Pe,B,ze,O,Re),vt=null;k&&(vt=t(r({},P?"height":"maxHeight",k),D),$&&(vt.overflowY="hidden",B&&(vt.overflowX="hidden"),ge&&(vt.pointerEvents="none")));var dt={};return te&&(dt.dir="rtl"),i("div",{style:t(t({},j),{},{position:"relative"}),className:re,...dt,...U,children:[n(o,{onResize:function(e){_e({width:e.width||e.offsetWidth,height:e.height||e.offsetHeight})},children:n(W,{className:"".concat(y,"-holder"),style:vt,ref:oe,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==ce&&we(t),null==F||F(e),$e()},onMouseEnter:st,children:n(x,{prefixCls:y,height:Ce,offsetX:ve,offsetY:je,scrollWidth:B,onInnerResize:Ne,ref:ie,innerProps:G,rtl:te,extra:lt,children:ft})})}),ee&&Ce>k&&n(b,{ref:Ke,prefixCls:y,scrollOffset:ce,scrollRange:Ce,rtl:te,onScroll:et,onStartMove:me,onStopMove:be,spinSize:We,containerSize:Xe.height,style:null==Q?void 0:Q.verticalScrollBar,thumbStyle:null==Q?void 0:Q.verticalScrollBarThumb}),ee&&B>Xe.width&&n(b,{ref:Be,prefixCls:y,scrollOffset:ve,scrollRange:B,rtl:te,onScroll:et,onStartMove:me,onStopMove:be,spinSize:Ve,containerSize:Xe.width,horizontal:!0,style:null==Q?void 0:Q.horizontalScrollBar,thumbStyle:null==Q?void 0:Q.horizontalScrollBarThumb})]})}var C=e.exports.forwardRef(k);C.displayName="List";export{C as L};
