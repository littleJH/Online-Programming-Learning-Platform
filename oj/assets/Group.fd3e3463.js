import{i as e,j as t}from"./group.ab80a5d7.js";import{bI as s,d as a,e as o,_ as i,n as r,w as n,j as p,a as d}from"./index.5c064301.js";import{G as m}from"./GroupInfo.bc6bb5e5.js";import{P as c}from"./PaginationList.4a73bb02.js";import{L as u}from"./index.0ec24622.js";import{M as j}from"./index.6891d53f.js";import"./MyAvatar.22457dcc.js";import"./PlusOutlined.787b1bb7.js";import"./index.972659d0.js";import"./index.7aeb2011.js";import"./index.a45f76a6.js";import"./context.aa52cc0c.js";import"./List.6e377c69.js";import"./PurePanel.bec90387.js";import"./index.4e624168.js";import"./useLocale.07149357.js";import"./CheckOutlined.363c4795.js";import"./UpOutlined.722986ed.js";import"./BaseInput.01760c9b.js";import"./Skeleton.ed2cb458.js";import"./index.bad11826.js";import"./ActionButton.76c967e9.js";import"./Pagination.855f4d50.js";import"./row.e491f7a6.js";import"./useClosable.e9e9bb76.js";import"./fade.9766c3a1.js";const l=()=>{const[l,b]=s(),g=a(o),[x,f]=i.exports.useState([]),[S,P]=i.exports.useState(!0),[h,N]=i.exports.useState(!1),[v,C]=i.exports.useState(),I=a(r),[L,w]=i.exports.useState(Number(l.get("pageNum"))||1),[z,M]=i.exports.useState(Number(l.get("pageSize"))||10),[O,k]=i.exports.useState(0);n.useEffect((()=>{b((e=>(e.set("pageNum",String(L)),e.set("pageSize",String(z)),e))),y()}),[L,z]);const y=()=>{(null==g?void 0:g.id)&&e(null==g?void 0:g.id).then((e=>{f(e.data.data.groups),k(e.data.data.total),P(!1)}))};return p("div",{children:[d(c,{dataSource:x,loading:S,onDelete:async(e,s)=>{const{data:a}=await t(e.id);200===a.code&&(f((e=>[...e.slice(0,s),...e.slice(s+1)])),I&&I.success({message:`用户组“${e.title}”已删除`}))},onDetail:(e,t)=>{C(e),N(!0)},onUpdate:(e,t)=>{},pageNum:L,pageSize:z,total:O,onPageChange:(e,t)=>{w(e),M(t)},itemRender:e=>d(u.Item.Meta,{title:e.title,description:e.content})}),d(j,{open:h,onCancel:()=>N(!1),footer:[],children:v&&d(m,{group:v})})]})};export{l as default};
