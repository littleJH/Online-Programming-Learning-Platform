import{_ as e,bi as r,a as t,l as n,ax as i}from"./index.5c064301.js";function u(e){return!(!e||!e.then)}const l=l=>{const{type:o,children:s,prefixCls:c,buttonProps:f,close:a,autoFocus:p,emitEvent:d,isSilent:v,quitOnNullishReturnValue:x,actionFn:h}=l,m=e.exports.useRef(!1),b=e.exports.useRef(null),[g,j]=r(!1),y=function(){null==a||a.apply(void 0,arguments)};e.exports.useEffect((()=>{let e=null;return p&&(e=setTimeout((()=>{var e;null===(e=b.current)||void 0===e||e.focus()}))),()=>{e&&clearTimeout(e)}}),[]);return t(n,{...Object.assign({},i(o),{onClick:e=>{if(m.current)return;if(m.current=!0,!h)return void y();let r;if(d){if(r=h(e),x&&!u(r))return m.current=!1,void y(e)}else if(h.length)r=h(a),m.current=!1;else if(r=h(),!r)return void y();(e=>{u(e)&&(j(!0),e.then((function(){j(!1,!0),y.apply(void 0,arguments),m.current=!1}),(e=>{if(j(!1,!0),m.current=!1,!(null==v?void 0:v()))return Promise.reject(e)})))})(r)},loading:g,prefixCls:c},f,{ref:b}),children:s})};export{l as A};
