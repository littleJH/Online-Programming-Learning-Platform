import{H as e,Q as t,a3 as n,N as o,W as r,a1 as a,x as i,a7 as d,a6 as s,a9 as l,bb as c,ag as p,_ as u,a as f,v as h,L as g,b5 as v,b6 as y,b7 as b,b8 as k,j as x,ba as m,y as K,Z as N,as as C,F as S,z as w,A as E,bq as D,K as $,al as O,aV as P,w as L,a8 as I,bs as T,a4 as M}from"./index.5c064301.js";import{p as A}from"./context.aa52cc0c.js";import{L as R}from"./List.6e377c69.js";function H(e,t){return e[t]}var j=["children"];function B(e,t){return"".concat(e,"-").concat(t)}function z(e,t){return null!=e?e:t}function q(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function V(r){return function r(a){return n(a).map((function(n){if(!function(e){return e&&e.type&&e.type.isTreeNode}(n))return t(!n,"Tree/TreeNode can only accept TreeNode as children."),null;var a=n.key,i=n.props,d=i.children,s=o(i,j),l=e({key:a},s),c=r(d);return c.length&&(l.children=c),l})).filter((function(e){return e}))}(r)}function G(t,n,o){var i=q(o),d=i._title,s=i.key,l=i.children,c=new Set(!0===n?[]:n),p=[];return function t(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map((function(u,f){for(var h,g=B(i?i.pos:"0",f),v=z(u[s],g),y=0;y<d.length;y+=1){var b=d[y];if(void 0!==u[b]){h=u[b];break}}var k=e(e({},a(u,[].concat(r(d),[s,l]))),{},{title:h,key:v,parent:i,pos:g,children:null,data:u,isStart:[].concat(r(i?i.isStart:[]),[0===f]),isEnd:[].concat(r(i?i.isEnd:[]),[f===o.length-1])});return p.push(k),!0===n||c.has(v)?k.children=t(u[l]||[],k):k.children=[],k}))}(t),p}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,a=t.onProcessFinished,d=t.externalGetKey,s=t.childrenPropName,l=t.fieldNames,c=d||(arguments.length>2?arguments[2]:void 0),p={},u={},f={posEntities:p,keyEntities:u};return n&&(f=n(f)||f),function(e,t,n){var o,a=("object"===i(n)?n:{externalGetKey:n})||{},d=a.childrenPropName,s=a.externalGetKey,l=q(a.fieldNames),c=l.key,p=l.children,u=d||p;s?"string"==typeof s?o=function(e){return e[s]}:"function"==typeof s&&(o=function(e){return s(e)}):o=function(e,t){return z(e[c],t)},function n(a,i,d,s){var l=a?a[u]:e,c=a?B(d.pos,i):"0",p=a?[].concat(r(s),[a]):[];if(a){var f=o(a,c),h={node:a,index:i,pos:c,key:f,parentPos:d.node?d.pos:null,level:d.level+1,nodes:p};t(h)}l&&l.forEach((function(e,t){n(e,t,{node:a,pos:c,level:d?d.level+1:-1},p)}))}(null)}(e,(function(e){var t=e.node,n=e.index,r=e.pos,a=e.key,i=e.parentPos,d=e.level,s={node:t,nodes:e.nodes,index:n,key:a,pos:r,level:d},l=z(a,r);p[r]=s,u[l]=s,s.parent=p[i],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),o&&o(s,f)}),{externalGetKey:c,childrenPropName:s,fieldNames:l}),a&&a(f),f}function U(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,d=t.halfCheckedKeys,s=t.dragOverNodeKey,l=t.dropPosition,c=H(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==d.indexOf(e),pos:String(c?c.pos:""),dragOver:s===e&&0===l,dragOverGapTop:s===e&&-1===l,dragOverGapBottom:s===e&&1===l}}function _(n){var o=n.data,r=n.expanded,a=n.selected,i=n.checked,d=n.loaded,s=n.loading,l=n.halfChecked,c=n.dragOver,p=n.dragOverGapTop,u=n.dragOverGapBottom,f=n.pos,h=n.active,g=n.eventKey,v=e(e({},o),{},{expanded:r,selected:a,checked:i,loaded:d,loading:s,halfChecked:l,dragOver:c,dragOverGapTop:p,dragOverGapBottom:u,pos:f,active:h,key:g});return"props"in v||Object.defineProperty(v,"props",{get:function(){return t(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),v}function F(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function X(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function Y(e,n,o,r){var a,i=[];a=r||X;var d,s=new Set(e.filter((function(e){var t=!!H(o,e);return t||i.push(e),t}))),l=new Map,c=0;return Object.keys(o).forEach((function(e){var t=o[e],n=t.level,r=l.get(n);r||(r=new Set,l.set(n,r)),r.add(t),c=Math.max(c,n)})),t(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),d=!0===n?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var d=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!d.has(e.parent.key))if(o(e.parent.node))d.add(t.key);else{var i=!0,s=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),s||!n&&!a.has(t)||(s=!0)})),i&&r.add(t.key),s&&a.add(t.key),d.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(F(a,r))}}(s,l,c,a):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),d=0;d<=o;d+=1)(n.get(d)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,d=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||d.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var s=new Set,l=o;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var o=!0,d=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),d||!n&&!i.has(t)||(d=!0)})),o||a.delete(t.key),d&&i.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(F(i,a))}}(s,n.halfCheckedKeys,l,c,a),d}const Q=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},l(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},l(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},l(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},c(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${p(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${p(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Z(e,t){const n=d(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Q(n)]}const J=s("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[Z(n,e)]}));var ee=u.exports.createContext(null),te=function(e){for(var t=e.prefixCls,n=e.level,o=e.isStart,r=e.isEnd,a="".concat(t,"-indent-unit"),i=[],d=0;d<n;d+=1)i.push(f("span",{className:h(a,g(g({},"".concat(a,"-start"),o[d]),"".concat(a,"-end"),r[d]))},d));return f("span",{"aria-hidden":"true",className:"".concat(t,"-indent"),children:i})};const ne=u.exports.memo(te);var oe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],re="open",ae="close",ie=function(t){v(r,t);var n=y(r);function r(){var t;b(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=n.call.apply(n,[this].concat(a)),g(k(t),"state",{dragNodeHighlight:!1}),g(k(t),"selectHandle",void 0),g(k(t),"cacheIndent",void 0),g(k(t),"onSelectorClick",(function(e){(0,t.props.context.onNodeClick)(e,_(t.props)),t.isSelectable()?t.onSelect(e):t.onCheck(e)})),g(k(t),"onSelectorDoubleClick",(function(e){(0,t.props.context.onNodeDoubleClick)(e,_(t.props))})),g(k(t),"onSelect",(function(e){t.isDisabled()||(0,t.props.context.onNodeSelect)(e,_(t.props))})),g(k(t),"onCheck",(function(e){if(!t.isDisabled()){var n=t.props,o=n.disableCheckbox,r=n.checked,a=t.props.context.onNodeCheck;if(t.isCheckable()&&!o){var i=!r;a(e,_(t.props),i)}}})),g(k(t),"onMouseEnter",(function(e){(0,t.props.context.onNodeMouseEnter)(e,_(t.props))})),g(k(t),"onMouseLeave",(function(e){(0,t.props.context.onNodeMouseLeave)(e,_(t.props))})),g(k(t),"onContextMenu",(function(e){(0,t.props.context.onNodeContextMenu)(e,_(t.props))})),g(k(t),"onDragStart",(function(e){var n=t.props.context.onNodeDragStart;e.stopPropagation(),t.setState({dragNodeHighlight:!0}),n(e,k(t));try{e.dataTransfer.setData("text/plain","")}catch(o){}})),g(k(t),"onDragEnter",(function(e){var n=t.props.context.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),n(e,k(t))})),g(k(t),"onDragOver",(function(e){var n=t.props.context.onNodeDragOver;e.preventDefault(),e.stopPropagation(),n(e,k(t))})),g(k(t),"onDragLeave",(function(e){var n=t.props.context.onNodeDragLeave;e.stopPropagation(),n(e,k(t))})),g(k(t),"onDragEnd",(function(e){var n=t.props.context.onNodeDragEnd;e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,k(t))})),g(k(t),"onDrop",(function(e){var n=t.props.context.onNodeDrop;e.preventDefault(),e.stopPropagation(),t.setState({dragNodeHighlight:!1}),n(e,k(t))})),g(k(t),"onExpand",(function(e){var n=t.props,o=n.loading,r=n.context.onNodeExpand;o||r(e,_(t.props))})),g(k(t),"setSelectHandle",(function(e){t.selectHandle=e})),g(k(t),"getNodeState",(function(){var e=t.props.expanded;return t.isLeaf()?null:e?re:ae})),g(k(t),"hasChildren",(function(){var e=t.props.eventKey;return!!((H(t.props.context.keyEntities,e)||{}).children||[]).length})),g(k(t),"isLeaf",(function(){var e=t.props,n=e.isLeaf,o=e.loaded,r=t.props.context.loadData,a=t.hasChildren();return!1!==n&&(n||!r&&!a||r&&o&&!a)})),g(k(t),"isDisabled",(function(){var e=t.props.disabled;return!(!t.props.context.disabled&&!e)})),g(k(t),"isCheckable",(function(){var e=t.props.checkable,n=t.props.context.checkable;return!(!n||!1===e)&&n})),g(k(t),"syncLoadData",(function(e){var n=e.expanded,o=e.loading,r=e.loaded,a=t.props.context,i=a.loadData,d=a.onNodeLoad;o||i&&n&&!t.isLeaf()&&(t.hasChildren()||r||d(_(t.props)))})),g(k(t),"isDraggable",(function(){var e=t.props,n=e.data,o=e.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(n))})),g(k(t),"renderDragHandler",(function(){var e=t.props.context,n=e.draggable,o=e.prefixCls;return null!=n&&n.icon?f("span",{className:"".concat(o,"-draggable-icon"),children:n.icon}):null})),g(k(t),"renderSwitcherIconDom",(function(n){var o=t.props.switcherIcon,r=t.props.context.switcherIcon,a=o||r;return"function"==typeof a?a(e(e({},t.props),{},{isLeaf:n})):a})),g(k(t),"renderSwitcher",(function(){var e=t.props.expanded,n=t.props.context.prefixCls;if(t.isLeaf()){var o=t.renderSwitcherIconDom(!0);return!1!==o?f("span",{className:h("".concat(n,"-switcher"),"".concat(n,"-switcher-noop")),children:o}):null}var r=h("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(e?re:ae)),a=t.renderSwitcherIconDom(!1);return!1!==a?f("span",{onClick:t.onExpand,className:r,children:a}):null})),g(k(t),"renderCheckbox",(function(){var e=t.props,n=e.checked,o=e.halfChecked,r=e.disableCheckbox,a=t.props.context.prefixCls,i=t.isDisabled(),d=t.isCheckable();if(!d)return null;var s="boolean"!=typeof d?d:null;return f("span",{className:h("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&o&&"".concat(a,"-checkbox-indeterminate"),(i||r)&&"".concat(a,"-checkbox-disabled")),onClick:t.onCheck,children:s})})),g(k(t),"renderIcon",(function(){var e=t.props.loading,n=t.props.context.prefixCls;return f("span",{className:h("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(t.getNodeState()||"docu"),e&&"".concat(n,"-icon_loading"))})})),g(k(t),"renderSelector",(function(){var e,n,o=t.state.dragNodeHighlight,r=t.props,a=r.title,i=void 0===a?"---":a,d=r.selected,s=r.icon,l=r.loading,c=r.data,p=t.props.context,u=p.prefixCls,g=p.showIcon,v=p.icon,y=p.loadData,b=p.titleRender,k=t.isDisabled(),m="".concat(u,"-node-content-wrapper");if(g){var K=s||v;e=K?f("span",{className:h("".concat(u,"-iconEle"),"".concat(u,"-icon__customize")),children:"function"==typeof K?K(t.props):K}):t.renderIcon()}else y&&l&&(e=t.renderIcon());n="function"==typeof i?i(c):b?b(c):i;var N=f("span",{className:"".concat(u,"-title"),children:n});return x("span",{ref:t.setSelectHandle,title:"string"==typeof i?i:"",className:h("".concat(m),"".concat(m,"-").concat(t.getNodeState()||"normal"),!k&&(d||o)&&"".concat(u,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick,children:[e,N,t.renderDropIndicator()]})})),g(k(t),"renderDropIndicator",(function(){var e=t.props,n=e.disabled,o=e.eventKey,r=t.props.context,a=r.draggable,i=r.dropLevelOffset,d=r.dropPosition,s=r.prefixCls,l=r.indent,c=r.dropIndicatorRender,p=r.dragOverNodeKey,u=r.direction,f=!n&&!!a&&p===o,h=null!=l?l:t.cacheIndent;return t.cacheIndent=l,f?c({dropPosition:d,dropLevelOffset:i,indent:h,prefixCls:s,direction:u}):null})),t}return m(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"==typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,a=t.style,i=t.dragOver,d=t.dragOverGapTop,s=t.dragOverGapBottom,l=t.isLeaf,c=t.isStart,p=t.isEnd,u=t.expanded,v=t.selected,y=t.checked,b=t.halfChecked,k=t.loading,m=t.domRef,K=t.active;t.data;var N=t.onMouseMove,C=t.selectable,S=o(t,oe),w=this.props.context,E=w.prefixCls,D=w.filterTreeNode,$=w.keyEntities,O=w.dropContainerKey,P=w.dropTargetKey,L=w.draggingNodeKey,I=this.isDisabled(),T=A(S,{aria:!0,data:!0}),M=(H($,n)||{}).level,R=p[p.length-1],j=this.isDraggable(),B=!I&&j,z=L===n,q=void 0!==C?{"aria-selected":!!C}:void 0;return x("div",{ref:m,className:h(r,"".concat(E,"-treenode"),(e={},g(g(g(g(g(g(g(g(g(g(e,"".concat(E,"-treenode-disabled"),I),"".concat(E,"-treenode-switcher-").concat(u?"open":"close"),!l),"".concat(E,"-treenode-checkbox-checked"),y),"".concat(E,"-treenode-checkbox-indeterminate"),b),"".concat(E,"-treenode-selected"),v),"".concat(E,"-treenode-loading"),k),"".concat(E,"-treenode-active"),K),"".concat(E,"-treenode-leaf-last"),R),"".concat(E,"-treenode-draggable"),j),"dragging",z),g(g(g(g(g(g(e,"drop-target",P===n),"drop-container",O===n),"drag-over",!I&&i),"drag-over-gap-top",!I&&d),"drag-over-gap-bottom",!I&&s),"filter-node",D&&D(_(this.props))))),style:a,draggable:B,"aria-grabbed":z,onDragStart:B?this.onDragStart:void 0,onDragEnter:j?this.onDragEnter:void 0,onDragOver:j?this.onDragOver:void 0,onDragLeave:j?this.onDragLeave:void 0,onDrop:j?this.onDrop:void 0,onDragEnd:j?this.onDragEnd:void 0,onMouseMove:N,...q,...T,children:[f(ne,{prefixCls:E,level:M,isStart:c,isEnd:p}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector()]})}}]),r}(u.exports.Component),de=function(e){return f(ee.Consumer,{children:function(t){return f(ie,{...e,context:t})}})};function se(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function le(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function ce(e){return e.split("-")}function pe(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}(H(t,e).children),n}function ue(e){if(e.parent){var t=ce(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function fe(e,t,n,o,r,a,i,d,s,l){var c,p=e.clientX,u=e.clientY,f=e.target.getBoundingClientRect(),h=f.top,g=f.height,v=(("rtl"===l?-1:1)*(((null==r?void 0:r.x)||0)-p)-12)/o,y=s.filter((function(e){var t;return null===(t=d[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length})),b=H(d,n.props.eventKey);if(u<h+g/2){var k=i.findIndex((function(e){return e.key===b.key})),x=i[k<=0?0:k-1].key;b=H(d,x)}var m=b.key,K=b,N=b.key,C=0,S=0;if(!y.includes(m))for(var w=0;w<v&&ue(b);w+=1)b=b.parent,S+=1;var E,D=t.props.data,$=b.node,O=!0;return E=ce(b.pos),0===Number(E[E.length-1])&&0===b.level&&u<h+g/2&&a({dragNode:D,dropNode:$,dropPosition:-1})&&b.key===n.props.eventKey?C=-1:(K.children||[]).length&&y.includes(N)?a({dragNode:D,dropNode:$,dropPosition:0})?C=0:O=!1:0===S?v>-1.5?a({dragNode:D,dropNode:$,dropPosition:1})?C=1:O=!1:a({dragNode:D,dropNode:$,dropPosition:0})?C=0:a({dragNode:D,dropNode:$,dropPosition:1})?C=1:O=!1:a({dragNode:D,dropNode:$,dropPosition:1})?C=1:O=!1,{dropPosition:C,dropLevelOffset:S,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:N,dropContainerKey:0===C?null:(null===(c=b.parent)||void 0===c?void 0:c.key)||null,dropAllowed:O}}function he(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function ge(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==i(e))return t(!1,"`checkedKeys` is not an array or an object"),null;n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return n}function ve(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=H(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),r(n)}function ye(e){if(null==e)throw new TypeError("Cannot destructure "+e)}de.displayName="TreeNode",de.isTreeNode=1;var be=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ke=function(e,t){var n=e.className,r=e.style,a=e.motion,i=e.motionNodes,d=e.motionType,s=e.onMotionStart,l=e.onMotionEnd,c=e.active,p=e.treeNodeRequiredProps,g=o(e,be),v=u.exports.useState(!0),y=K(v,2),b=y[0],k=y[1],x=u.exports.useContext(ee).prefixCls,m=i&&"hide"!==d;N((function(){i&&m!==b&&k(m)}),[i]);var S=u.exports.useRef(!1),w=function(){i&&!S.current&&(S.current=!0,l())};!function(e,t){var n=u.exports.useState(!1),o=K(n,2),r=o[0],a=o[1];N((function(){if(r)return e(),function(){t()}}),[r]),N((function(){return a(!0),function(){a(!1)}}),[])}((function(){i&&s()}),w);return i?f(C,{ref:t,visible:b,...a,motionAppear:"show"===d,onVisibleChanged:function(e){m===e&&w()},children:function(e,t){var n=e.className,o=e.style;return f("div",{ref:t,className:h("".concat(x,"-treenode-motion"),n),style:o,children:i.map((function(e){var t=Object.assign({},(ye(e.data),e.data)),n=e.title,o=e.key,r=e.isStart,a=e.isEnd;delete t.children;var i=U(o,p);return u.exports.createElement(de,{...t,...i,title:n,active:c,data:e.data,key:o,isStart:r,isEnd:a})}))})}}):f(de,{domRef:t,className:n,style:r,...g,active:c})};ke.displayName="MotionTreeNode";var xe=u.exports.forwardRef(ke);function me(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var Ke=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ne={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ce=function(){},Se="RC_TREE_MOTION_".concat(Math.random()),we={key:Se},Ee={key:Se,level:0,index:0,pos:"0",node:we,nodes:[we]},De={parent:null,children:[],pos:Ee.pos,data:we,title:null,key:Se,isStart:[],isEnd:[]};function $e(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Oe(e){return z(e.key,e.pos)}function Pe(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var Le=u.exports.forwardRef((function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var a=e.expandedKeys,i=e.selectedKeys,d=e.checkedKeys,s=e.loadedKeys,l=e.loadingKeys,c=e.halfCheckedKeys,p=e.keyEntities,h=e.disabled,g=e.dragging,v=e.dragOverNodeKey,y=e.dropPosition,b=e.motion,k=e.height,m=e.itemHeight,C=e.virtual,w=e.focusable,E=e.activeItem,D=e.focused,$=e.tabIndex,O=e.onKeyDown,P=e.onFocus,L=e.onBlur,I=e.onActiveChange,T=e.onListChangeStart,M=e.onListChangeEnd,A=o(e,Ke),H=u.exports.useRef(null),j=u.exports.useRef(null);u.exports.useImperativeHandle(t,(function(){return{scrollTo:function(e){H.current.scrollTo(e)},getIndentWidth:function(){return j.current.offsetWidth}}}));var B=u.exports.useState(a),q=K(B,2),V=q[0],G=q[1],W=u.exports.useState(r),_=K(W,2),F=_[0],X=_[1],Y=u.exports.useState(r),Q=K(Y,2),Z=Q[0],J=Q[1],ee=u.exports.useState([]),te=K(ee,2),ne=te[0],oe=te[1],re=u.exports.useState(null),ae=K(re,2),ie=ae[0],de=ae[1],se=u.exports.useRef(r);function le(){var e=se.current;X(e),J(e),oe([]),de(null),M()}se.current=r,N((function(){G(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(V,a);if(null!==e.key)if(e.add){var t=F.findIndex((function(t){return t.key===e.key})),n=$e(me(F,r,e.key),C,k,m),o=F.slice();o.splice(t+1,0,De),J(o),oe(n),de("show")}else{var i=r.findIndex((function(t){return t.key===e.key})),d=$e(me(r,F,e.key),C,k,m),s=r.slice();s.splice(i+1,0,De),J(s),oe(d),de("hide")}else F!==r&&(X(r),J(r))}),[a,r]),u.exports.useEffect((function(){g||le()}),[g]);var ce=b?Z:r,pe={expandedKeys:a,selectedKeys:i,loadedKeys:s,loadingKeys:l,checkedKeys:d,halfCheckedKeys:c,dragOverNodeKey:v,dropPosition:y,keyEntities:p};return x(S,{children:[D&&E&&f("span",{style:Ne,"aria-live":"assertive",children:Pe(E)}),f("div",{children:f("input",{style:Ne,disabled:!1===w||h,tabIndex:!1!==w?$:null,onKeyDown:O,onFocus:P,onBlur:L,value:"",onChange:Ce,"aria-label":"for screen reader"})}),f("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:f("div",{className:"".concat(n,"-indent"),children:f("div",{ref:j,className:"".concat(n,"-indent-unit")})})}),f(R,{...A,data:ce,itemKey:Oe,height:k,fullHeight:!1,virtual:C,itemHeight:m,prefixCls:"".concat(n,"-list"),ref:H,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return Oe(e)===Se}))&&le()},children:function(e){var t=e.pos,n=Object.assign({},(ye(e.data),e.data)),o=e.title,r=e.key,a=e.isStart,i=e.isEnd,d=z(r,t);delete n.key,delete n.children;var s=U(d,pe);return f(xe,{...n,...s,title:o,active:!!E&&r===E.key,pos:t,data:e.data,isStart:a,isEnd:i,motion:b,motionNodes:r===Se?ne:null,motionType:ie,onMotionStart:T,onMotionEnd:le,treeNodeRequiredProps:pe,onMouseMove:function(){I(null)}})}})]})}));Le.displayName="NodeList";var Ie=function(n){v(a,n);var o=y(a);function a(){var n;b(this,a);for(var i=arguments.length,d=new Array(i),s=0;s<i;s++)d[s]=arguments[s];return n=o.call.apply(o,[this].concat(d)),g(k(n),"destroyed",!1),g(k(n),"delayedDragEnterLogic",void 0),g(k(n),"loadingRetryTimes",{}),g(k(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:q()}),g(k(n),"dragStartMousePosition",null),g(k(n),"dragNode",void 0),g(k(n),"currentMouseOverDroppableNodeKey",null),g(k(n),"listRef",u.exports.createRef()),g(k(n),"onNodeDragStart",(function(e,t){var o=n.state,r=o.expandedKeys,a=o.keyEntities,i=n.props.onDragStart,d=t.props.eventKey;n.dragNode=t,n.dragStartMousePosition={x:e.clientX,y:e.clientY};var s=se(r,d);n.setState({draggingNodeKey:d,dragChildrenKeys:pe(d,a),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(s),window.addEventListener("dragend",n.onWindowDragEnd),null==i||i({event:e,node:_(t.props)})})),g(k(n),"onNodeDragEnter",(function(e,t){var o=n.state,a=o.expandedKeys,i=o.keyEntities,d=o.dragChildrenKeys,s=o.flattenNodes,l=o.indent,c=n.props,p=c.onDragEnter,u=c.onExpand,f=c.allowDrop,h=c.direction,g=t.props,v=g.pos,y=g.eventKey,b=k(n).dragNode;if(n.currentMouseOverDroppableNodeKey!==y&&(n.currentMouseOverDroppableNodeKey=y),b){var x=fe(e,b,t,l,n.dragStartMousePosition,f,s,i,a,h),m=x.dropPosition,K=x.dropLevelOffset,N=x.dropTargetKey,C=x.dropContainerKey,S=x.dropTargetPos,w=x.dropAllowed,E=x.dragOverNodeKey;-1===d.indexOf(N)&&w?(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach((function(e){clearTimeout(n.delayedDragEnterLogic[e])})),b.props.eventKey!==t.props.eventKey&&(e.persist(),n.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==n.state.draggingNodeKey){var o=r(a),d=H(i,t.props.eventKey);d&&(d.children||[]).length&&(o=le(a,t.props.eventKey)),"expandedKeys"in n.props||n.setExpandedKeys(o),null==u||u(o,{node:_(t.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),b.props.eventKey!==N||0!==K?(n.setState({dragOverNodeKey:E,dropPosition:m,dropLevelOffset:K,dropTargetKey:N,dropContainerKey:C,dropTargetPos:S,dropAllowed:w}),null==p||p({event:e,node:_(t.props),expandedKeys:a})):n.resetDragState()):n.resetDragState()}else n.resetDragState()})),g(k(n),"onNodeDragOver",(function(e,t){var o=n.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,d=o.expandedKeys,s=o.indent,l=n.props,c=l.onDragOver,p=l.allowDrop,u=l.direction,f=k(n).dragNode;if(f){var h=fe(e,f,t,s,n.dragStartMousePosition,p,a,i,d,u),g=h.dropPosition,v=h.dropLevelOffset,y=h.dropTargetKey,b=h.dropContainerKey,x=h.dropAllowed,m=h.dropTargetPos,K=h.dragOverNodeKey;-1===r.indexOf(y)&&x&&(f.props.eventKey===y&&0===v?null===n.state.dropPosition&&null===n.state.dropLevelOffset&&null===n.state.dropTargetKey&&null===n.state.dropContainerKey&&null===n.state.dropTargetPos&&!1===n.state.dropAllowed&&null===n.state.dragOverNodeKey||n.resetDragState():g===n.state.dropPosition&&v===n.state.dropLevelOffset&&y===n.state.dropTargetKey&&b===n.state.dropContainerKey&&m===n.state.dropTargetPos&&x===n.state.dropAllowed&&K===n.state.dragOverNodeKey||n.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:y,dropContainerKey:b,dropTargetPos:m,dropAllowed:x,dragOverNodeKey:K}),null==c||c({event:e,node:_(t.props)}))}})),g(k(n),"onNodeDragLeave",(function(e,t){n.currentMouseOverDroppableNodeKey!==t.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var o=n.props.onDragLeave;null==o||o({event:e,node:_(t.props)})})),g(k(n),"onWindowDragEnd",(function(e){n.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)})),g(k(n),"onNodeDragEnd",(function(e,t){var o=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),null==o||o({event:e,node:_(t.props)}),n.dragNode=null,window.removeEventListener("dragend",n.onWindowDragEnd)})),g(k(n),"onNodeDrop",(function(o,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=n.state,s=d.dragChildrenKeys,l=d.dropPosition,c=d.dropTargetKey,p=d.dropTargetPos;if(d.dropAllowed){var u=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),null!==c){var f=e(e({},U(c,n.getTreeNodeRequiredProps())),{},{active:(null===(a=n.getActiveItem())||void 0===a?void 0:a.key)===c,data:H(n.state.keyEntities,c).node}),h=-1!==s.indexOf(c);t(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var g=ce(p),v={event:o,node:_(f),dragNode:n.dragNode?_(n.dragNode.props):null,dragNodesKeys:[n.dragNode.props.eventKey].concat(s),dropToGap:0!==l,dropPosition:l+Number(g[g.length-1])};i||null==u||u(v),n.dragNode=null}}})),g(k(n),"cleanDragState",(function(){null!==n.state.draggingNodeKey&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null})),g(k(n),"triggerExpandActionExpand",(function(t,o){var r=n.state,a=r.expandedKeys,i=r.flattenNodes,d=o.expanded,s=o.key;if(!(o.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var l=i.filter((function(e){return e.key===s}))[0],c=_(e(e({},U(s,n.getTreeNodeRequiredProps())),{},{data:l.data}));n.setExpandedKeys(d?se(a,s):le(a,s)),n.onNodeExpand(t,c)}})),g(k(n),"onNodeClick",(function(e,t){var o=n.props,r=o.onClick;"click"===o.expandAction&&n.triggerExpandActionExpand(e,t),null==r||r(e,t)})),g(k(n),"onNodeDoubleClick",(function(e,t){var o=n.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&n.triggerExpandActionExpand(e,t),null==r||r(e,t)})),g(k(n),"onNodeSelect",(function(e,t){var o=n.state.selectedKeys,r=n.state,a=r.keyEntities,i=r.fieldNames,d=n.props,s=d.onSelect,l=d.multiple,c=t.selected,p=t[i.key],u=!c,f=(o=u?l?le(o,p):[p]:se(o,p)).map((function(e){var t=H(a,e);return t?t.node:null})).filter((function(e){return e}));n.setUncontrolledState({selectedKeys:o}),null==s||s(o,{event:"select",selected:u,node:t,selectedNodes:f,nativeEvent:e.nativeEvent})})),g(k(n),"onNodeCheck",(function(e,t,o){var a,i=n.state,d=i.keyEntities,s=i.checkedKeys,l=i.halfCheckedKeys,c=n.props,p=c.checkStrictly,u=c.onCheck,f=t.key,h={event:"check",node:t,checked:o,nativeEvent:e.nativeEvent};if(p){var g=o?le(s,f):se(s,f);a={checked:g,halfChecked:se(l,f)},h.checkedNodes=g.map((function(e){return H(d,e)})).filter((function(e){return e})).map((function(e){return e.node})),n.setUncontrolledState({checkedKeys:g})}else{var v=Y([].concat(r(s),[f]),!0,d),y=v.checkedKeys,b=v.halfCheckedKeys;if(!o){var k=new Set(y);k.delete(f);var x=Y(Array.from(k),{checked:!1,halfCheckedKeys:b},d);y=x.checkedKeys,b=x.halfCheckedKeys}a=y,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=b,y.forEach((function(e){var t=H(d,e);if(t){var n=t.node,o=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:o})}})),n.setUncontrolledState({checkedKeys:y},!1,{halfCheckedKeys:b})}null==u||u(a,h)})),g(k(n),"onNodeLoad",(function(e){var o=e.key,r=new Promise((function(r,a){n.setState((function(i){var d=i.loadedKeys,s=void 0===d?[]:d,l=i.loadingKeys,c=void 0===l?[]:l,p=n.props,u=p.loadData,f=p.onLoad;return u&&-1===s.indexOf(o)&&-1===c.indexOf(o)?(u(e).then((function(){var t=le(n.state.loadedKeys,o);null==f||f(t,{event:"load",node:e}),n.setUncontrolledState({loadedKeys:t}),n.setState((function(e){return{loadingKeys:se(e.loadingKeys,o)}})),r()})).catch((function(e){if(n.setState((function(e){return{loadingKeys:se(e.loadingKeys,o)}})),n.loadingRetryTimes[o]=(n.loadingRetryTimes[o]||0)+1,n.loadingRetryTimes[o]>=10){var i=n.state.loadedKeys;t(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:le(i,o)}),r()}a(e)})),{loadingKeys:le(c,o)}):null}))}));return r.catch((function(){})),r})),g(k(n),"onNodeMouseEnter",(function(e,t){var o=n.props.onMouseEnter;null==o||o({event:e,node:t})})),g(k(n),"onNodeMouseLeave",(function(e,t){var o=n.props.onMouseLeave;null==o||o({event:e,node:t})})),g(k(n),"onNodeContextMenu",(function(e,t){var o=n.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:t}))})),g(k(n),"onFocus",(function(){var e=n.props.onFocus;n.setState({focused:!0});for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),g(k(n),"onBlur",(function(){var e=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),g(k(n),"getTreeNodeRequiredProps",(function(){var e=n.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}})),g(k(n),"setExpandedKeys",(function(e){var t=n.state,o=G(t.treeData,e,t.fieldNames);n.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)})),g(k(n),"onNodeExpand",(function(e,o){var r=n.state.expandedKeys,a=n.state,i=a.listChanging,d=a.fieldNames,s=n.props,l=s.onExpand,c=s.loadData,p=o.expanded,u=o[d.key];if(!i){var f=r.indexOf(u),h=!p;if(t(p&&-1!==f||!p&&-1===f,"Expand state not sync with index check"),r=h?le(r,u):se(r,u),n.setExpandedKeys(r),null==l||l(r,{node:o,expanded:h,nativeEvent:e.nativeEvent}),h&&c){var g=n.onNodeLoad(o);g&&g.then((function(){var e=G(n.state.treeData,r,d);n.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=se(n.state.expandedKeys,u);n.setExpandedKeys(e)}))}}})),g(k(n),"onListChangeStart",(function(){n.setUncontrolledState({listChanging:!0})})),g(k(n),"onListChangeEnd",(function(){setTimeout((function(){n.setUncontrolledState({listChanging:!1})}))})),g(k(n),"onActiveChange",(function(e){var t=n.state.activeKey,o=n.props,r=o.onActiveChange,a=o.itemScrollOffset,i=void 0===a?0:a;t!==e&&(n.setState({activeKey:e}),null!==e&&n.scrollTo({key:e,offset:i}),null==r||r(e))})),g(k(n),"getActiveItem",(function(){var e=n.state,t=e.activeKey,o=e.flattenNodes;return null===t?null:o.find((function(e){return e.key===t}))||null})),g(k(n),"offsetActiveKey",(function(e){var t=n.state,o=t.flattenNodes,r=t.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var i=o[a=(a+e+o.length)%o.length];if(i){var d=i.key;n.onActiveChange(d)}else n.onActiveChange(null)})),g(k(n),"onKeyDown",(function(t){var o=n.state,r=o.activeKey,a=o.expandedKeys,i=o.checkedKeys,d=o.fieldNames,s=n.props,l=s.onKeyDown,c=s.checkable,p=s.selectable;switch(t.which){case w.UP:n.offsetActiveKey(-1),t.preventDefault();break;case w.DOWN:n.offsetActiveKey(1),t.preventDefault()}var u=n.getActiveItem();if(u&&u.data){var f=n.getTreeNodeRequiredProps(),h=!1===u.data.isLeaf||!!(u.data[d.children]||[]).length,g=_(e(e({},U(r,f)),{},{data:u.data,active:!0}));switch(t.which){case w.LEFT:h&&a.includes(r)?n.onNodeExpand({},g):u.parent&&n.onActiveChange(u.parent.key),t.preventDefault();break;case w.RIGHT:h&&!a.includes(r)?n.onNodeExpand({},g):u.children&&u.children.length&&n.onActiveChange(u.children[0].key),t.preventDefault();break;case w.ENTER:case w.SPACE:!c||g.disabled||!1===g.checkable||g.disableCheckbox?c||!p||g.disabled||!1===g.selectable||n.onNodeSelect({},g):n.onNodeCheck({},g,!i.includes(r))}}null==l||l(t)})),g(k(n),"setUncontrolledState",(function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.destroyed){var a=!1,i=!0,d={};Object.keys(t).forEach((function(e){e in n.props?i=!1:(a=!0,d[e]=t[e])})),!a||o&&!i||n.setState(e(e({},d),r))}})),g(k(n),"scrollTo",(function(e){n.listRef.current.scrollTo(e)})),n}return m(a,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,o=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t=this.state,n=t.focused,o=t.flattenNodes,r=t.keyEntities,a=t.draggingNodeKey,d=t.activeKey,s=t.dropLevelOffset,l=t.dropContainerKey,c=t.dropTargetKey,p=t.dropPosition,u=t.dragOverNodeKey,v=t.indent,y=this.props,b=y.prefixCls,k=y.className,x=y.style,m=y.showLine,K=y.focusable,N=y.tabIndex,C=void 0===N?0:N,S=y.selectable,w=y.showIcon,E=y.icon,D=y.switcherIcon,$=y.draggable,O=y.checkable,P=y.checkStrictly,L=y.disabled,I=y.motion,T=y.loadData,M=y.filterTreeNode,R=y.height,H=y.itemHeight,j=y.virtual,B=y.titleRender,z=y.dropIndicatorRender,q=y.onContextMenu,V=y.onScroll,G=y.direction,W=y.rootClassName,U=y.rootStyle,_=A(this.props,{aria:!0,data:!0});return $&&(e="object"===i($)?$:"function"==typeof $?{nodeDraggable:$}:{}),f(ee.Provider,{value:{prefixCls:b,selectable:S,showIcon:w,icon:E,switcherIcon:D,draggable:e,draggingNodeKey:a,checkable:O,checkStrictly:P,disabled:L,keyEntities:r,dropLevelOffset:s,dropContainerKey:l,dropTargetKey:c,dropPosition:p,dragOverNodeKey:u,indent:v,direction:G,dropIndicatorRender:z,loadData:T,filterTreeNode:M,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop},children:f("div",{role:"tree",className:h(b,k,W,g(g(g({},"".concat(b,"-show-line"),m),"".concat(b,"-focused"),n),"".concat(b,"-active-focused"),null!==d)),style:U,children:f(Le,{ref:this.listRef,prefixCls:b,style:x,data:o,disabled:L,selectable:S,checkable:!!O,motion:I,dragging:null!==a,height:R,itemHeight:H,virtual:j,focusable:K,focused:n,tabIndex:C,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q,onScroll:V,...this.getTreeNodeRequiredProps(),..._})})})}}],[{key:"getDerivedStateFromProps",value:function(n,o){var r,a=o.prevProps,i={prevProps:n};function d(e){return!a&&e in n||a&&a[e]!==n[e]}var s=o.fieldNames;if(d("fieldNames")&&(s=q(n.fieldNames),i.fieldNames=s),d("treeData")?r=n.treeData:d("children")&&(t(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=V(n.children)),r){i.treeData=r;var l=W(r,{fieldNames:s});i.keyEntities=e(g({},Se,Ee),l.keyEntities)}var c,p=i.keyEntities||o.keyEntities;if(d("expandedKeys")||a&&d("autoExpandParent"))i.expandedKeys=n.autoExpandParent||!a&&n.defaultExpandParent?ve(n.expandedKeys,p):n.expandedKeys;else if(!a&&n.defaultExpandAll){var u=e({},p);delete u[Se],i.expandedKeys=Object.keys(u).map((function(e){return u[e].key}))}else!a&&n.defaultExpandedKeys&&(i.expandedKeys=n.autoExpandParent||n.defaultExpandParent?ve(n.defaultExpandedKeys,p):n.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,r||i.expandedKeys){var f=G(r||o.treeData,i.expandedKeys||o.expandedKeys,s);i.flattenNodes=f}if((n.selectable&&(d("selectedKeys")?i.selectedKeys=he(n.selectedKeys,n):!a&&n.defaultSelectedKeys&&(i.selectedKeys=he(n.defaultSelectedKeys,n))),n.checkable)&&(d("checkedKeys")?c=ge(n.checkedKeys)||{}:!a&&n.defaultCheckedKeys?c=ge(n.defaultCheckedKeys)||{}:r&&(c=ge(n.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),c)){var h=c,v=h.checkedKeys,y=void 0===v?[]:v,b=h.halfCheckedKeys,k=void 0===b?[]:b;if(!n.checkStrictly){var x=Y(y,!0,p);y=x.checkedKeys,k=x.halfCheckedKeys}i.checkedKeys=y,i.halfCheckedKeys=k}return d("loadedKeys")&&(i.loadedKeys=n.loadedKeys),i}}]),a}(u.exports.Component);g(Ie,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*o;break;case 1:r.bottom=0,r.left=-n*o;break;case 0:r.bottom=0,r.left=o}return f("div",{style:r})},allowDrop:function(){return!0},expandAction:!1}),g(Ie,"TreeNode",de);const Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var Me=function(e,t){return f(E,{...e,ref:t,icon:Te})};const Ae=u.exports.forwardRef(Me);const Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var He=function(e,t){return f(E,{...e,ref:t,icon:Re})};const je=u.exports.forwardRef(He);const Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var ze=function(e,t){return f(E,{...e,ref:t,icon:Be})};const qe=u.exports.forwardRef(ze);const Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var Ge=function(e,t){return f(E,{...e,ref:t,icon:Ve})};const We=u.exports.forwardRef(Ge),Ue=new $("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),_e=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Fe=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${p(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Xe=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:r,titleHeight:a,nodeSelectedBg:i,nodeHoverBg:d}=t,s=t.paddingXS;return{[n]:Object.assign(Object.assign({},l(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},c(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Ue,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${p(r)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,lineHeight:`${p(a)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:Object.assign(Object.assign({},_e(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,margin:0,lineHeight:`${p(a)}`,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,borderRadius:t.borderRadius,"&-noop":{cursor:"unset"},[`&:not(${n}-switcher-noop):hover`]:{backgroundColor:t.colorBgTextHover},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:s,alignSelf:"flex-start",marginTop:t.marginXXS},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:a,margin:0,padding:`0 ${p(t.calc(t.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${p(a)}`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:d},[`&${n}-node-selected`]:{backgroundColor:i},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,lineHeight:`${p(a)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:Object.assign({lineHeight:`${p(a)}`,userSelect:"none"},Fe(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${p(t.calc(a).div(2).equal())} !important`}}}}})}},Ye=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o,directoryNodeSelectedBg:r,directoryNodeSelectedColor:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:a,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:r},[`${t}-switcher`]:{color:a},[`${t}-node-content-wrapper`]:{color:a,background:"transparent"}}}}}},Qe=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,r=t.calc(t.paddingXS).div(2).equal(),a=d(t,{treeCls:n,treeNodeCls:o,treeNodePadding:r});return[Xe(e,a),Ye(a)]},Ze=s("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Z(`${n}-checkbox`,e)},Qe(n,e),D(e)]}),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t}=e;return{titleHeight:t,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}));function Je(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:r,direction:a="ltr"}=e,i="ltr"===a?"left":"right",d={[i]:-n*r+4,["ltr"===a?"right":"left"]:0};switch(t){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[i]=r+4}return f("div",{style:d,className:`${o}-drop-indicator`})}const et={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var tt=function(e,t){return f(E,{...e,ref:t,icon:et})};const nt=u.exports.forwardRef(tt);const ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var rt=function(e,t){return f(E,{...e,ref:t,icon:ot})};const at=u.exports.forwardRef(rt);const it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var dt=function(e,t){return f(E,{...e,ref:t,icon:it})};const st=u.exports.forwardRef(dt),lt=e=>{const{prefixCls:t,switcherIcon:n,treeNodeProps:o,showLine:r}=e,{isLeaf:a,expanded:i,loading:d}=o;if(d)return f(O,{className:`${t}-switcher-loading-icon`});let s;if(r&&"object"==typeof r&&(s=r.showLeafIcon),a){if(!r)return null;if("boolean"!=typeof s&&s){const e="function"==typeof s?s(o):s,n=`${t}-switcher-line-custom-icon`;return u.exports.isValidElement(e)?P(e,{className:h(e.props.className||"",n)}):e}return s?f(Ae,{className:`${t}-switcher-line-icon`}):f("span",{className:`${t}-switcher-leaf-line`})}const l=`${t}-switcher-icon`,c="function"==typeof n?n(o):n;return u.exports.isValidElement(c)?P(c,{className:h(c.props.className||"",l)}):void 0!==c?c:r?f(i?at:st,{className:`${t}-switcher-line-icon`}):f(nt,{className:l})},ct=L.forwardRef(((e,t)=>{var n;const{getPrefixCls:o,direction:r,virtual:a,tree:i}=L.useContext(I),{prefixCls:d,className:s,showIcon:l=!1,showLine:c,switcherIcon:p,blockNode:u=!1,children:g,checkable:v=!1,selectable:y=!0,draggable:b,motion:k,style:x}=e,m=o("tree",d),K=o(),N=null!=k?k:Object.assign(Object.assign({},T(K)),{motionAppear:!1}),C=Object.assign(Object.assign({},e),{checkable:v,selectable:y,showIcon:l,motion:N,blockNode:u,showLine:Boolean(c),dropIndicatorRender:Je}),[S,w,E]=Ze(m),[,D]=M(),$=D.paddingXS/2+((null===(n=D.Tree)||void 0===n?void 0:n.titleHeight)||D.controlHeightSM),O=L.useMemo((()=>{if(!b)return!1;let e={};switch(typeof b){case"function":e.nodeDraggable=b;break;case"object":e=Object.assign({},b)}return!1!==e.icon&&(e.icon=e.icon||f(We,{})),e}),[b]);return S(f(Ie,{...Object.assign({itemHeight:$,ref:t,virtual:a},C,{style:Object.assign(Object.assign({},null==i?void 0:i.style),x),prefixCls:m,className:h({[`${m}-icon-hide`]:!l,[`${m}-block-node`]:u,[`${m}-unselectable`]:!y,[`${m}-rtl`]:"rtl"===r},null==i?void 0:i.className,s,w,E),direction:r,checkable:v?f("span",{className:`${m}-checkbox-inner`}):v,selectable:y,switcherIcon:e=>f(lt,{prefixCls:m,switcherIcon:p,treeNodeProps:e,showLine:c}),draggable:O}),children:g}))}));var pt,ut;function ft(e,t,n){const{key:o,children:r}=n;e.forEach((function(e){const a=e[o],i=e[r];!1!==t(a,e)&&ft(i||[],t,n)}))}function ht(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:r,fieldNames:a}=e;const i=[];let d=pt.None;if(o&&o===r)return[o];if(!o||!r)return[];return ft(t,(e=>{if(d===pt.End)return!1;if(function(e){return e===o||e===r}(e)){if(i.push(e),d===pt.None)d=pt.Start;else if(d===pt.Start)return d=pt.End,!1}else d===pt.Start&&i.push(e);return n.includes(e)}),q(a)),i}function gt(e,t,n){const o=r(t),a=[];return ft(e,((e,t)=>{const n=o.indexOf(e);return-1!==n&&(a.push(t),o.splice(n,1)),!!o.length}),q(n)),a}(ut=pt||(pt={}))[ut.None=0]="None",ut[ut.Start=1]="Start",ut[ut.End=2]="End";var vt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function yt(e){const{isLeaf:t,expanded:n}=e;return f(t?Ae:n?je:qe,{})}function bt(e){let{treeData:t,children:n}=e;return t||V(n)}const kt=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:o,defaultExpandedKeys:a}=e,i=vt(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const d=u.exports.useRef(),s=u.exports.useRef(),[l,c]=u.exports.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[p,g]=u.exports.useState((()=>(()=>{const{keyEntities:e}=W(bt(i));let t;return t=n?Object.keys(e):o?ve(i.expandedKeys||a||[],e):i.expandedKeys||a||[],t})()));u.exports.useEffect((()=>{"selectedKeys"in i&&c(i.selectedKeys)}),[i.selectedKeys]),u.exports.useEffect((()=>{"expandedKeys"in i&&g(i.expandedKeys)}),[i.expandedKeys]);const{getPrefixCls:v,direction:y}=u.exports.useContext(I),{prefixCls:b,className:k,showIcon:x=!0,expandAction:m="click"}=i,K=vt(i,["prefixCls","className","showIcon","expandAction"]),N=v("tree",b),C=h(`${N}-directory`,{[`${N}-directory-rtl`]:"rtl"===y},k);return f(ct,{...Object.assign({icon:yt,ref:t,blockNode:!0},K,{showIcon:x,expandAction:m,prefixCls:N,className:C,expandedKeys:p,selectedKeys:l,onSelect:(e,t)=>{var n;const{multiple:o,fieldNames:a}=i,{node:l,nativeEvent:u}=t,{key:f=""}=l,h=bt(i),g=Object.assign(Object.assign({},t),{selected:!0}),v=(null==u?void 0:u.ctrlKey)||(null==u?void 0:u.metaKey),y=null==u?void 0:u.shiftKey;let b;o&&v?(b=e,d.current=f,s.current=b,g.selectedNodes=gt(h,b,a)):o&&y?(b=Array.from(new Set([].concat(r(s.current||[]),r(ht({treeData:h,expandedKeys:p,startKey:f,endKey:d.current,fieldNames:a}))))),g.selectedNodes=gt(h,b,a)):(b=[f],d.current=f,s.current=b,g.selectedNodes=gt(h,b,a)),null===(n=i.onSelect)||void 0===n||n.call(i,b,g),"selectedKeys"in i||c(b)},onExpand:(e,t)=>{var n;return"expandedKeys"in i||g(e),null===(n=i.onExpand)||void 0===n?void 0:n.call(i,e,t)}})})},xt=u.exports.forwardRef(kt),mt=ct;mt.DirectoryTree=xt,mt.TreeNode=de;const Kt=mt;export{Kt as T,Y as a,se as b,W as c,le as d,J as u};
