import{a as e,j as t,a6 as n,a7 as r,a9 as a,_ as o,a8 as l,v as s,a$ as i,aV as c}from"./index.5c064301.js";import{p as u}from"./context.aa52cc0c.js";import{S as p}from"./Skeleton.ed2cb458.js";const f=n=>{const{value:r,formatter:a,precision:o,decimalSeparator:l,groupSeparator:s="",prefixCls:i}=n;let c;if("function"==typeof a)c=a(r);else{const n=String(r),a=n.match(/^(-?)(\d*)(\.(\d+))?$/);if(a&&"-"!==n){const n=a[1];let r=a[2]||"0",u=a[4]||"";r=r.replace(/\B(?=(\d{3})+(?!\d))/g,s),"number"==typeof o&&(u=u.padEnd(o,"0").slice(0,o>0?o:0)),u&&(u=`${l}${u}`),c=[t("span",{className:`${i}-content-value-int`,children:[n,r]},"int"),u&&e("span",{className:`${i}-content-value-decimal`,children:u},"decimal")]}else c=n}return e("span",{className:`${i}-content-value`,children:c})},m=e=>{const{componentCls:t,marginXXS:n,padding:r,colorTextDescription:o,titleFontSize:l,colorTextHeading:s,contentFontSize:i,fontFamily:c}=e;return{[`${t}`]:Object.assign(Object.assign({},a(e)),{[`${t}-title`]:{marginBottom:n,color:o,fontSize:l},[`${t}-skeleton`]:{paddingTop:r},[`${t}-content`]:{color:s,fontSize:i,fontFamily:c,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}},d=n("Statistic",(e=>{const t=r(e,{});return[m(t)]}),(e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}}));var g=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const v=n=>{const{prefixCls:r,className:a,rootClassName:i,style:c,valueStyle:m,value:v=0,title:S,valueRender:x,prefix:y,suffix:b,loading:h=!1,formatter:O,precision:$,decimalSeparator:j=".",groupSeparator:w=",",onMouseEnter:N,onMouseLeave:C}=n,E=g(n,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:M,direction:T,statistic:z}=o.exports.useContext(l),D=M("statistic",r),[F,I,P]=d(D),k=e(f,{decimalSeparator:j,groupSeparator:w,prefixCls:D,formatter:O,precision:$,value:v}),H=s(D,{[`${D}-rtl`]:"rtl"===T},null==z?void 0:z.className,a,i,I,P),R=u(E,{aria:!0,data:!0});return F(t("div",{...Object.assign({},R,{className:H,style:Object.assign(Object.assign({},null==z?void 0:z.style),c),onMouseEnter:N,onMouseLeave:C}),children:[S&&e("div",{className:`${D}-title`,children:S}),e(p,{paragraph:!1,loading:h,className:`${D}-skeleton`,children:t("div",{style:m,className:`${D}-content`,children:[y&&e("span",{className:`${D}-content-prefix`,children:y}),x?x(k):k,b&&e("span",{className:`${D}-content-suffix`,children:b})]})})]}))},S=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function x(e,t){const{format:n=""}=t,r=new Date(e).getTime(),a=Date.now();return function(e,t){let n=e;const r=/\[[^\]]*]/g,a=(t.match(r)||[]).map((e=>e.slice(1,-1))),o=t.replace(r,"[]"),l=S.reduce(((e,t)=>{let[r,a]=t;if(e.includes(r)){const t=Math.floor(n/a);return n-=t*a,e.replace(new RegExp(`${r}+`,"g"),(e=>{const n=e.length;return t.toString().padStart(n,"0")}))}return e}),o);let s=0;return l.replace(r,(()=>{const e=a[s];return s+=1,e}))}(Math.max(r-a,0),n)}var y=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const b=t=>{const{value:n,format:r="HH:mm:ss",onChange:a,onFinish:l}=t,s=y(t,["value","format","onChange","onFinish"]),u=i(),p=o.exports.useRef(null),f=()=>{const e=function(e){return new Date(e).getTime()}(n);e>=Date.now()&&(p.current=setInterval((()=>{u(),null==a||a(e-Date.now()),e<Date.now()&&(null==l||l(),p.current&&(clearInterval(p.current),p.current=null))}),33.333333333333336))};o.exports.useEffect((()=>(f(),()=>{p.current&&(clearInterval(p.current),p.current=null)})),[n]);return e(v,{...Object.assign({},s,{value:n,valueRender:e=>c(e,{title:void 0}),formatter:(e,t)=>x(e,Object.assign(Object.assign({},t),{format:r}))})})},h=o.exports.memo(b);v.Countdown=h;export{v as S};
